/*!
 * PSPDFKit for Web 2022.3.0 (https://pspdfkit.com/web)
 *
 * Copyright (c) 2016-2022 PSPDFKit GmbH. All rights reserved.
 *
 * THIS SOURCE CODE AND ANY ACCOMPANYING DOCUMENTATION ARE PROTECTED BY INTERNATIONAL COPYRIGHT LAW
 * AND MAY NOT BE RESOLD OR REDISTRIBUTED. USAGE IS BOUND TO THE PSPDFKIT LICENSE AGREEMENT.
 * UNAUTHORIZED REPRODUCTION OR DISTRIBUTION IS SUBJECT TO CIVIL AND CRIMINAL PENALTIES.
 * This notice may not be removed from this file.
 *
 * PSPDFKit uses several open source third-party components: https://pspdfkit.com/acknowledgements/web/
 */
(globalThis.webpackChunkPSPDFKit=globalThis.webpackChunkPSPDFKit||[]).push([[3610],{72098:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n=r(42876),i=r.n(n),o=r(35369),s=r(70545),a=r(63880);const u=()=>{};class c{_worker=new(i());_requests=(0,o.D5)();_nextRequestId=1;_isLoading=!0;_loadPromise=null;_initPromise=null;_hasOpenedDocument=!1;_hasLoadedCertificates=!1;constructor(){this._worker.onmessage=this._handleMessage}loadNativeModule(t,e){let{mainThreadOrigin:r,disableWebAssembly:n,disableWebAssemblyStreaming:i,enableAutomaticLinkExtraction:o,overrideMemoryLimit:a}=e;return(0,s.kG)(!this._hasOpenedDocument,"cannot invoke `loadNativeModule` while an instance is still in use. Please call `recycle` first."),this._loadPromise?this._loadPromise.then((()=>{})):(this._initPromise||(this._initPromise=this._sendRequest("loadNativeModule",[t,{mainThreadOrigin:r,disableWebAssembly:n,disableWebAssemblyStreaming:i,enableAutomaticLinkExtraction:o,overrideMemoryLimit:a}]).then((t=>t)).catch((t=>{throw this._isLoading=!1,this._worker.terminate(),t}))),this._initPromise)}load(t,e,r){let{mainThreadOrigin:n,customFonts:i}=r;return(0,s.kG)(!this._hasOpenedDocument,"cannot invoke `load` while an instance is still in use. Please call `recycle` first."),this._loadPromise||(this._loadPromise=this._sendRequest("load",[t,e,{mainThreadOrigin:n,customFonts:i}]).then((t=>(this._isLoading=!1,t))).catch((t=>{throw this._isLoading=!1,this._worker.terminate(),t}))),this._loadPromise}version(){return this._assertLoaded(),this._sendRequest("version")}openDocument(t,e){return this._assertLoaded(),this._hasOpenedDocument=!0,this._sendRequest("openDocument",[t,e]).catch((t=>{throw this._hasOpenedDocument=!1,t}))}async openDocumentAt(){throw new Error("Should never be called")}async enablePDFJavaScriptSupport(){return this._assertLoaded(),this._sendRequest("enablePDFJavaScriptSupport")}async runPDFFormattingScripts(){return this._assertLoaded(),this._sendRequest("runPDFFormattingScripts")}getBookmarks(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getBookmarks")}getFormJSON(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getFormJSON")}evalFormValuesActions(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("evalFormValuesActions",[t])}evalScript(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("evalScript",[t,e])}setFormJSONUpdateBatchMode(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("setFormJSONUpdateBatchMode",[t])}getFormValues(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getFormValues")}closeDocument(){return this._assertLoaded(),this._hasOpenedDocument=!1,this._sendRequest("closeDocument")}renderTile(t,e,r,n,i,o,s){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("renderTile",[t,e,r,n,i,o,s])}renderAnnotation(t,e,r,n,i){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("renderAnnotation",[t,e,r,n,i])}renderPageAnnotations(t,e,r,n,i,o){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("renderPageAnnotations",[t,e,r,n,i,o])}renderDetachedAnnotation(t,e,r,n,i){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("renderDetachedAnnotation",[t,e,r,n,i])}onKeystrokeEvent(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("onKeystrokeEvent",[t])}getAttachment(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getAttachment",[t])}textForPageIndex(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("textForPageIndex",[t])}annotationsForPageIndex(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("annotationsForPageIndex",[t])}createAnnotation(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("createAnnotation",[t,e])}updateAnnotation(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("updateAnnotation",[t])}deleteAnnotation(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("deleteAnnotation",[t])}createFormField(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("createFormField",[t,e])}updateFormField(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("updateFormField",[t,e])}deleteFormField(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("deleteFormField",[t])}setFormFieldValue(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("setFormFieldValue",[t])}deleteFormFieldValue(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("deleteFormFieldValue",[t])}createBookmark(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("createBookmark",[t])}updateBookmark(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("updateBookmark",[t])}deleteBookmark(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("deleteBookmark",[t])}getTextFromRects(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getTextFromRects",[t,e])}search(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.S.TEXT;return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("search",[t,e,r,n,i])}parseXFDF(t){return this._sendRequest("parseXFDF",[t])}getEmbeddedFilesList(){return this._sendRequest("getEmbeddedFilesList")}exportFile(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pdf",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("exportFile",[t,e,r,n,i])}importXFDF(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("importXFDF",[t,e])}exportXFDF(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("exportXFDF",[])}importInstantJSON(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("importInstantJSON",[t])}exportInstantJSON(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("exportInstantJSON",[])}getDocumentOutline(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getDocumentOutline")}applyOperations(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("applyOperations",[t,e])}reloadDocument(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("reloadDocument")}exportPDFWithOperations(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("exportPDFWithOperations",[t,e])}loadCertificates(t){return this._assertLoaded(),this._assertDocumentOpen(),this._hasLoadedCertificates=Boolean(t.length),this._sendRequest("loadCertificates",[t]).catch((t=>{throw this._hasLoadedCertificates=!1,t}))}getSignaturesInfo(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getSignaturesInfo",[])}prepareSignInvisible(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("prepareSignInvisible",[t,e])}sign(t,e,r){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("sign",[t,e,r])}restoreToOriginalState(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("restoreToOriginalState")}applyRedactions(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("applyRedactions",[])}readFormJSONObjects(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("readFormJSONObjects")}clearAPStreamCache(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("clearAPStreamCache")}setComparisonDocument(t,e){return this._assertLoaded(),e||this._assertDocumentOpen(),this._sendRequest("setComparisonDocument",[t,e])}openComparisonDocument(t){return this._assertLoaded(),this._hasOpenedDocument=!0,this._sendRequest("openComparisonDocument",[t]).catch((t=>{throw this._hasOpenedDocument=!1,t}))}documentCompareAndOpen(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("documentCompareAndOpen",[t])}persistOpenDocument(t){return this._assertLoaded(),t||this._assertDocumentOpen(),this._sendRequest("persistOpenDocument",[t])}cleanupDocumentComparison(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("cleanupDocumentComparison")}recycle(){this._hasLoadedCertificates&&this.loadCertificates([]),this._hasOpenedDocument&&this.closeDocument(),this._isLoading||(this._requests=this._requests.map((()=>({resolve:u,reject:u}))))}destroy(){this._loadPromise=null,this._worker.terminate()}_assertLoaded(){if(this._isLoading)throw new s.p2("CoreClient not yet initialized")}_assertDocumentOpen(){if(!this._hasOpenedDocument)throw new s.p2("This method can not be called since there is no open document. Have you run PSPDFKit.unload()?")}_handleMessage=t=>{const e=t.data,r=this._requests.get(e.id);(0,s.kG)(r,`No request was made for id ${e.id}.`);const{resolve:n,reject:i}=r;if(this._requests=this._requests.delete(e.id),e.error){const t=new s.p2(e.error);t.callArgs=e.callArgs,i(t)}else n(e.result)};_sendRequest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(((r,n)=>{const i=this._assignId(),o=e.filter((t=>t instanceof ArrayBuffer));this._worker.postMessage({id:i,action:t,args:e},o),this._requests=this._requests.set(i,{resolve:r,reject:n})}))}_assignId(){const t=this._nextRequestId;return this._nextRequestId=this._nextRequestId+1,t}}},29412:(t,e,r)=>{"use strict";r.d(e,{W:()=>a});var n=r(35369),i=r(33502),o=r(70545),s=r(50893);class a{cachedAPStreams=(0,n.D5)();pageAPStreamsPromises=(0,n.D5)();annotationAPStreamPromises=(0,n.D5)();cachedRenderAnnotation(t,e,r,n){var a;const u=this.provider;(0,o.kG)(u instanceof u.constructor,"Backend can only use backend annotation provider");const c=t instanceof i.x_?null===(a=u._readStateCallbacks)||void 0===a?void 0:a.getFormFieldByName(t.formFieldName):null,l=!c||c instanceof i.Yo?null:new i.KD({name:c.name,value:void 0!==c.formattedValue?c.formattedValue:"string"==typeof c.value?c.value:c.values});if(!(0,s._R)(t,c))return this.renderAnnotation(t,l,e,r,n);let d=!1,h=()=>{d=!0};return{promise:new Promise((async(i,o)=>{const s=e=>{const r=this.annotationAPStreamPromises.get(t.id);r&&(this.annotationAPStreamPromises=this.annotationAPStreamPromises.delete(t.id),r(e))},a=this.annotationAPStreamPromises.get(t.id);this.annotationAPStreamPromises=this.annotationAPStreamPromises.set(t.id,i),a&&a(null);try{const o=this.pageAPStreamsPromises.get(t.pageIndex);if(!o){const e=new Promise((e=>{this.annotationAPStreamPromises=this.annotationAPStreamPromises.set(t.id,e)}));return void i(await e)}await o;const a=this.cachedAPStreams.get(t.pageIndex);if(a){const e=a?a.get(t.id):null;if(e)return void s(e)}const{promise:u,cancel:c}=this.renderAnnotation(t,l,e,r,n);if(d)s(null);else{h=c;const e=await u;s(e),e&&this.cacheAPStream(e,t)}}catch(t){o(t)}})),cancel:h}}cacheAPStream(t,e){let r=this.cachedAPStreams.get(e.pageIndex);r||(this.cachedAPStreams=this.cachedAPStreams.set(e.pageIndex,(0,n.D5)()),r=this.cachedAPStreams.get(e.pageIndex)),(0,o.kG)(r),this.cachedAPStreams=this.cachedAPStreams.setIn([e.pageIndex,e.id],t)}clearAllPageAPStreams(t){const e=this.cachedAPStreams.get(t);e&&(e.forEach((t=>{t.release()})),this.cachedAPStreams=this.cachedAPStreams.delete(t)),this.pageAPStreamsPromises=this.pageAPStreamsPromises.delete(t)}clearPageAPStreams(t,e){const r=this.cachedAPStreams.get(t);r&&(r.filter(((t,r)=>e.has(r))).forEach((t=>{t.release()})),this.cachedAPStreams=this.cachedAPStreams.updateIn([t],(t=>t.filter(((t,r)=>!e.has(r))))))}}},46777:(t,e,r)=>{"use strict";r.r(e),r.d(e,{corePool:()=>z,customFontsPromiseRef:()=>X,default:()=>H,loadModule:()=>Y,normalizeCoreOptions:()=>q,validateStandaloneConfiguration:()=>$});var n=r(14968),i=r(35369),o=r(70545),s=r(24956),a=r(19491),u=r(50893),c=r(29412),l=r(89595),d=r(80614),h=r(89777),f=r(11706),p=r(81928),m=r(57106),g=r(10163),y=r(51983);class _ extends((0,i.WV)({alreadyLoadedPages:(0,i.D5)(),isLoaded:!1,isDestroyed:!1})){}const v={skippedPdfObjectIds:[],skippedPdfBookmarkIds:[],annotations:[],bookmarks:[],formFieldValues:[],formFields:[],attachments:{}};class b{_state=new _;_formFieldsLoadedPromise=null;_objectCreationPromises=(0,i.D5)();_loadBookmarksPromise=null;canCreateBackendOrphanWidgets=!1;constructor(t,e){this._core=t,this._json=e?w(e):null,this._setReadStateCallbacksPromise=new Promise((t=>{this._setReadStateCallbacksPromiseResolve=t}))}async load(){if(this._state=this._state.set("isLoaded",!0),!this._formFieldCallbacks&&await this._loadFormFieldValues(),!this._json)return this;await this._core.importInstantJSON({...v,...this._json}),(0,o.kG)(this._json);const{annotations:t,attachments:e}=this._json;if(this._isDestroyed()||!e||0===Object.entries(e).length)return this;if(t)for(let r=0;r<t.length;r++){let n=null;if(t[r].imageAttachmentId){const i=e?e[t[r].imageAttachmentId]:null;if(i)try{n=(0,m.Jc)(atob(i.binary),i.contentType),(0,o.kG)(this._annotationCallbacks),this._annotationCallbacks.createAttachment(t[r].imageAttachmentId,n)}catch(e){(0,o.um)(`Skipped attachment with id ${t[r].imageAttachmentId} from payload because an error occurred while converting the binary image to blob.`),(0,o.um)(e)}}}return this}destroy(){this._state=this._state.set("isDestroyed",!0),this._annotationCallbacks=null,this._readStateCallbacks=null,this._bookmarkCallbacks=null,this._formFieldCallbacks=null,this._formFieldValueCallbacks=null}setReadStateCallbacks(t){var e;this._readStateCallbacks=t,null===(e=this._setReadStateCallbacksPromiseResolve)||void 0===e||e.call(this)}setAnnotationCallbacks(t){this._annotationCallbacks=t}setBookmarkCallbacks(t){this._bookmarkCallbacks=t}setFormFieldCallbacks(t){this._formFieldCallbacks=t}setFormFieldValueCallbacks(t){this._formFieldValueCallbacks=t}setCommentCallbacks(){}createComment(){return Promise.reject("Comments are not supported in Standalone.")}deleteComment(){return Promise.reject("Comments are not supported in Standalone.")}updateComment(){return Promise.reject("Comments are not supported in Standalone.")}createAnnotation(t,e){this._verifyLoaded();const r=e.find(((e,r)=>r===t.imageAttachmentId));return this._core.createAnnotation((0,f.Hs)(t),r?r.data:null).then((e=>{"number"!=typeof e||"number"!=typeof t.pdfObjectId||t.pdfObjectId===e||this._isDestroyed()||((0,o.kG)(this._annotationCallbacks),this._annotationCallbacks.updateAnnotations((0,i.aV)([t.set("pdfObjectId",e)])))}))}updateAnnotation(t){return this._verifyLoaded(),this._core.updateAnnotation((0,f.Hs)(t))}deleteAnnotation(t){return this._verifyLoaded(),this._core.deleteAnnotation((0,f.Hs)(t))}createBookmark(t){return this._verifyLoaded(),this._core.createBookmark((0,p.a)(t))}updateBookmark(t){return this._verifyLoaded(),this._core.updateBookmark((0,p.a)(t))}deleteBookmark(t){return this._verifyLoaded(),this._core.deleteBookmark(t)}createFormField(t){this._verifyLoaded(),(0,o.kG)(this._readStateCallbacks);const e=this._readStateCallbacks.getFormFieldWidgets(t);return this._core.createFormField((0,f.vD)(t),e.map(f.Hs).toArray())}updateFormField(t){this._verifyLoaded(),(0,o.kG)(this._readStateCallbacks);const e=this._readStateCallbacks.getFormFieldWidgets(t);return this._core.updateFormField((0,f.vD)(t),e.map(f.Hs).toArray())}deleteFormField(t){return this._verifyLoaded(),this._core.deleteFormField((0,f.vD)(t))}loadFormFields(){return this._formFieldsLoadedPromise||(this._formFieldsLoadedPromise=this._loadFormFields()),this._formFieldsLoadedPromise}async _loadFormFields(){this._verifyLoaded();const t=await this._core.readFormJSONObjects();let e=(0,i.aV)();const r=(0,i.aV)().withMutations((r=>{t.forEach((t=>{const{formField:n,widgets:i,value:s}=t;try{let t;t=n.pdfObjectId?n.pdfObjectId.toString():(0,u.xc)();const a=(0,f.IN)(t,n);(0,o.kG)(this._readStateCallbacks),this._readStateCallbacks.isFormFieldInState(a.name)||r.push(a.set("value",s)),i.forEach((t=>{let r;if(r=t.pdfObjectId?t.id||t.pdfObjectId.toString():(0,u.xc)(),(0,o.kG)(this._readStateCallbacks),!this._readStateCallbacks.isAnnotationInState(r)){const n=(0,f.vH)(r,t);e=e.push(n)}}))}catch(t){(0,o.um)(`Skipped creating form field #${n.pdfObjectId} from payload because an error occurred while deserializing.`),(0,o.um)(t)}}))}));r.size>0&&!this._isDestroyed()&&((0,o.kG)(this._formFieldCallbacks),this._formFieldCallbacks.createFormFields(r,y.y)),await this._loadFormFieldValues(),e.size>0&&!this._isDestroyed()&&((0,o.kG)(this._annotationCallbacks),this._annotationCallbacks.createAnnotations(e,(0,i.D5)(),y.y)),this._formFieldsLoadedPromise=Promise.resolve()}createFormFieldValue(t){return this._verifyLoaded(),this.setFormFieldValue(t)}setFormFieldValue(t){return this._verifyLoaded(),this._core.setFormFieldValue((0,f.kr)(t))}deleteFormFieldValue(t){return this._verifyLoaded(),this._core.deleteFormFieldValue(t.replace("form-field-value/",""))}loadAnnotationsForPageIndex(t){this._verifyLoaded();const e=this._state.alreadyLoadedPages.get(t);if(e)return e;const r=this._loadAnnotationsForPageIndex(t);return this._state=this._state.setIn(["alreadyLoadedPages",t],r),r}async _loadAnnotationsForPageIndex(t){const e=await this._core.annotationsForPageIndex(t);this._formFieldCallbacks&&await this.loadFormFields();const r=(0,i.aV)().withMutations((t=>{e.filter((t=>!t.id||this._readStateCallbacks&&!this._readStateCallbacks.isAnnotationInState(t.id))).forEach((e=>{e.pdfObjectId;try{const r=e.id||(function(t){return"pspdfkit/link"===t.type&&0===t.pdfObjectId}(e)?(0,u.xc)():e.pdfObjectId.toString()),n=(0,f.vH)(r,e);t.push(n)}catch(t){(0,o.um)(`Skipped creating annotation #${e.pdfObjectId} from payload because an error occurred while deserializing.`),(0,o.um)(t)}}))}));r.size>0&&!this._isDestroyed()&&((0,o.kG)(this._annotationCallbacks),this._annotationCallbacks.createAnnotations(r,(0,i.D5)(),y.y)),this._state=this._state.setIn(["alreadyLoadedPages",t],Promise.resolve())}async _loadFormFieldValues(){this._verifyLoaded();const t=await this._core.getFormValues(),e=(0,i.aV)().withMutations((e=>{t.forEach((t=>{try{e.push((0,f.u9)(t))}catch(e){(0,o.um)(`Skipped creating form field value #${t.pdfObjectId} from payload because an error occurred while deserializing.`),(0,o.um)(e)}}))}));e.size>0&&!this._isDestroyed()&&((0,o.kG)(this._formFieldValueCallbacks),this._formFieldValueCallbacks.setFormFieldValues(e))}async loadBookmarks(){this._verifyLoaded();const t=await this._core.getBookmarks(),e=(0,i.aV)().withMutations((e=>{t.forEach((t=>{let r;r=t.id?t.id:t.pdfBookmarkId?t.pdfBookmarkId:(0,g.A)();try{e.push((0,p.i)(r,t))}catch(t){(0,o.um)(`Skipped creating bookmark #${r} from payload because an error occurred while deserializing.`),(0,o.um)(t)}}))}));e.size>0&&!this._isDestroyed()&&((0,o.kG)(this._bookmarkCallbacks),this._bookmarkCallbacks.createBookmarks(e,y.y))}_verifyLoaded(){(0,o.kG)(this._state.isLoaded,"StandaloneProvider not properly initialized.")}_isDestroyed(){return this._state.isDestroyed}async syncChanges(){}}function w(t){const e={};return Object.keys(t).forEach((r=>{Array.isArray(t[r])?e[r]=t[r].filter(Boolean):"object"==typeof t[r]&&null!==t[r]?e[r]=w(t[r]):e[r]=t[r]})),e}class E{constructor(t,e){this.identifier=t,this.callback=e}request(){return this.callback()}}var S=r(34997);var A=r(1367),D=r(97921),F=r(49029);class O extends(i.WV({baseUrl:null,licenseKey:null,document:null,backendPermissions:new D.Z,documentResponse:null,disableWebAssembly:!1,disableWebAssemblyStreaming:!1,enableAutomaticLinkExtraction:!1,overrideMemoryLimit:null,features:(0,i.aV)(),signatureFeatureAvailability:F.H.NONE,documentHandle:null,trustedCAsCallback:null,signaturesInfoPromise:null,customFonts:null,forceLegacySignaturesFeature:!1,forceAnnotationsRender:!1,electronAppName:null})){}var I=r(96233),P=r(5164),T=r(52701),k=r(94290),R=r(55),C=r(11278),M=r(85596),x=r(63880),L=r(50809),N=r(68582),j=r(42457),B=r(33502);let U;U=r(72098).Z;const z=new class{size=1;_freeObjects=[];constructor(t){this._constructor=t}checkOut(){let t;return t=this._freeObjects.length>0?this._freeObjects.shift():new this._constructor,{object:t,checkIn:()=>{this._freeObjects.length>=this.size?t.destroy():(t.recycle(),this._freeObjects.push(t))}}}}(U);class G extends c.W{type="STANDALONE";_XFDF=null;constructor(t){super(),$(t);const{baseUrl:e,instantJSON:r,XFDF:n,enableAutomaticLinkExtraction:i,overrideMemoryLimit:o,trustedCAsCallback:s,electronAppName:a}=t;"string"==typeof n&&(this._XFDF={source:n,keepCurrentAnnotations:!0===t.XFDFKeepCurrentAnnotations}),r&&r.annotations&&(r.annotations=r.annotations.map((t=>(t.id=t.id.toString(),t)))),this._instantJSON=r,"function"==typeof s&&(this._trustedCAsCallback=s);const{disableWebAssembly:u,disableWebAssemblyStreaming:c,customFonts:l}=t,{standaloneInstancesPoolSize:h}=t;void 0!==h&&(z.size=h);const f=!!t.electronicSignatures&&Boolean(t.electronicSignatures.forceLegacySignaturesFeature);this._state=new O(q({baseUrl:e,licenseKey:t.licenseKey,document:t.document,disableWebAssembly:u,disableWebAssemblyStreaming:c,enableAutomaticLinkExtraction:i,overrideMemoryLimit:o,documentHandle:"0",customFonts:l,forceLegacySignaturesFeature:f,electronAppName:a})),this._requestQueue=new A.Z(d.gZ);const{object:p,checkIn:m}=z.checkOut();this.client=p,this.checkIn=m;const g=r?{annotations:r.annotations||[],formFields:r.formFields||[],formFieldValues:r.formFieldValues||[],skippedPdfObjectIds:r.skippedPdfObjectIds||[],skippedPdfFormFieldIds:r.skippedPdfFormFieldIds||[],attachments:r.attachments||{},bookmarks:r.bookmarks||[],skippedPdfBookmarkIds:r.skippedPdfBookmarkIds||[],format:r.format,...r.pdfId?{pdfId:r.pdfId}:null}:null;this.provider=new b(this.client,g)}isUsingInstantProvider(){return!1}hasClientsPresence(){return!1}async load(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isPDFJavaScriptEnabled=t.isPDFJavaScriptEnabled,{features:this._state.features,signatureFeatureAvailability:this._state.signatureFeatureAvailability,hasPassword:!!t.password,allowedTileScales:"all",jsActionChanges:[]}}destroy(){this.provider&&this.provider.destroy(),this._requestQueue&&this._requestQueue.destroy(),this.checkIn()}async documentInfo(){return this._state.documentResponse}getDocumentHandle(){return this._state.documentHandle}getFormJSON(){return this.client.getFormJSON()}permissions(){return Promise.resolve(this._state.backendPermissions)}textForPageIndex(t){let e=!1;const r=new E(`${t}-text`,(()=>e?Promise.reject({aborted:!0}):this.client.textForPageIndex(t).then((r=>e?Promise.reject({aborted:!0}):(0,l.T)({textLines:r},t))))),{promise:n,cancel:i}=this._requestQueue.enqueue(r);return{promise:n,cancel:()=>{e=!0,i()}}}getTextFromRects(t,e){return this.client.getTextFromRects(t,e.toJS())}renderTile(t,e,r,n,i){const a=`${t}-${e.width}-${e.height}-${r.top}-${r.left}-${r.width}-${r.height}-${this.getDocumentHandle()}`,c=new E(a,(()=>{const a=i?i.annotations.filter(u.d).map(f.Hs).toJS():null,c=i?i.formFieldValues.map(f.kr).toJS():null;return this.client.renderTile(t,e.toObject(),r.toObject(),n,a||(this._state.forceAnnotationsRender?[]:null),c,(0,L.aV)({width:r.width,height:r.height})).then((n=>n?"string"==typeof n?(0,s.ar)(n):(0,s.R9)({buffer:n,width:r.width,height:r.height}):((0,o.ZK)("The image buffer or URL is null, the tile cannot be rendered:",`page: ${t}, page size: ${e.toObject()}, tile rect: ${r.toObject()}`),Promise.resolve(null))))})),l=e.width===r.width&&e.height===r.height,{promise:d,cancel:h}=this._requestQueue.enqueue(c,l);return{promise:d,cancel:h}}renderAnnotation(t,e,r,n,i){const a=t.id;(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider");const u=new E(a,(()=>this.client.renderAnnotation((0,f.Hs)(t),r,n,i,(0,L.aV)({width:n,height:i})).then((e=>e?(0,s.R9)({buffer:e,width:n,height:i}):((0,o.ZK)("The image buffer is null, the annotation cannot be rendered",t.toJS()),Promise.resolve(null))))));return this._requestQueue.enqueue(u,!1)}async renderPageAnnotations(t,e,r){const n=this.provider;(0,o.kG)(n instanceof b,"Standalone can only use standalone annotation provider");const i=[],a=[],c=e.some((t=>t instanceof B.x_));c&&await n._setReadStateCallbacksPromise;const l=e.filter((t=>{const e=c?n._readStateCallbacks.getAnnotationWithFormField(t.id):null,r=null==e?void 0:e.formField,o=(0,u._R)(t,r);if(o&&r){i.find((t=>t.name===r.name))||(i.push((0,f.kr)((0,P.CH)(r))),a.push(r))}return o}));function d(t,e){if(null!=t&&t.formFieldName){const r=a.find((e=>e.name===t.formFieldName)),n=e.find((e=>e.name===t.formFieldName));if(!(0,P.BT)(r,n))return!1}return!0}const h=new Promise(((e,u)=>{this.client.renderPageAnnotations(t,l.map((t=>t.pdfObjectId)).toArray(),l.map((t=>t.boundingBox.width*r)).toArray(),l.map((t=>t.boundingBox.height*r)).toArray(),i,(0,L.zP)()).then((t=>{const i=a.map((t=>{var e;return null===(e=n._readStateCallbacks)||void 0===e?void 0:e.getFormFieldByName(t.name)})).filter(Boolean),u=t.map(((t,e)=>{const n=l.get(e);return d(n,i)&&n?t?(0,s.R9)({buffer:t,width:n.boundingBox.width*r,height:n.boundingBox.height*r}):((0,o.ZK)("The image buffer is null, the annotation cannot be rendered",n.toJS()),Promise.resolve(null)):Promise.resolve(null)}));Promise.all(u).then((t=>{const r=a.map((t=>{var e;return null===(e=n._readStateCallbacks)||void 0===e?void 0:e.getFormFieldByName(t.name)})).filter(Boolean);t.forEach(((t,e)=>{const n=l.get(e);if(n){const e=this.annotationAPStreamPromises.get(n.id),i=d(n,r);e&&(this.annotationAPStreamPromises=this.annotationAPStreamPromises.delete(n.id),e(i?t:null)),t&&i&&this.cacheAPStream(t,n)}})),e()}))})).catch(u)}));return this.pageAPStreamsPromises=this.pageAPStreamsPromises.set(t,h),h}renderDetachedAnnotation(t,e,r,n){if(t.id)throw new o.p2(`Detached annotations should not have an \`id\`: ${t.id}`);const i=(0,S.SK)(),a=new E(i,(()=>this.client.renderDetachedAnnotation((0,f.Hs)(t),e,r,n,(0,L.aV)({width:r,height:n})).then((e=>e?(0,s.R9)({buffer:e,width:r,height:n}):((0,o.ZK)("The image buffer is null, the annotation cannot be rendered",t.toJS()),Promise.resolve(null)))))),{promise:u,cancel:c}=this._requestQueue.enqueue(a,!1);return{promise:u,cancel:c}}async getAttachment(t){const[e,r]=await this.client.getAttachment(t);return new Blob([e],{type:r})}async parseXFDF(t){(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider");const{errors:e,formFieldValues:r,annotations:n}=await this.client.parseXFDF(t);return{errors:null==e?void 0:e.map((t=>({errorMessage:t.error_message,type:t.type}))),formFieldValues:null==r?void 0:r.reduce(((t,e)=>(t[e.fqdn]=e.values,t)),{}),annotations:(0,i.aV)((null==n?void 0:n.map((t=>(0,f.vH)((0,u.xc)(),t))))||[])}}async search(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:x.S.TEXT;(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider");const a=await this.client.search(t,e,r,n,s);return(0,h.E)(a.filter((t=>i||!t.isAnnotation)))}async searchAndRedact(t,e,r){(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider");const{totalPages:n}=r,s=await this.client.search(t,0,n,e.caseSensitive,e.searchType);return(0,i.aV)(s.filter((t=>e.searchInAnnotations||!t.isAnnotation)).map((t=>{const n=t.isAnnotation?[t.annotationRect]:t.rectsOnPage,s=(0,i.aV)(n).map((t=>((0,o.kG)(t),(0,M.k)(t))));return new R.Z({...(0,u.lx)(r),...e.annotationPreset,pageIndex:t.pageIndex,rects:s,boundingBox:T.Z.union(s)})})))}exportPDF(){let{flatten:t=!1,incremental:e=!1,saveForPrinting:r=!1,format:n="pdf",excludeAnnotations:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider"),this.client.exportFile(t,e,r,n,i).then((t=>{let[e,r]=t;return e.mimeType=r.mimeType,e.extension=r.extension,e}))}exportXFDF(){return(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider"),this.client.exportXFDF()}exportInstantJSON(){return(0,o.kG)(this.provider instanceof b,"Standalone build requires Standalone annotation provider."),this.client.exportInstantJSON()}getPDFURL(){let{includeComments:t=!0,saveForPrinting:e,excludeAnnotations:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.generatePDFObjectURL({includeComments:t,saveForPrinting:e,excludeAnnotations:r})}generatePDFObjectURL(){let t,{includeComments:e=!0,saveForPrinting:r,excludeAnnotations:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1;return{promise:new Promise((o=>{this.exportPDF({flatten:!0,includeComments:e,saveForPrinting:r,excludeAnnotations:n}).then((e=>{if(i)return;const r=new Blob([e],{type:e.mimeType});t=window.URL.createObjectURL(r),o(t)}))})),revoke:()=>{t&&window.URL.revokeObjectURL(t),i=!0}}}async getDocumentOutline(){const t=await this.client.getDocumentOutline();return(0,i.aV)(t.map(a.i))}async onKeystrokeEvent(t){return await this.client.onKeystrokeEvent(t)}async evalFormValuesActions(t){return(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider"),this.client.evalFormValuesActions(t.map(f.kr).toJS())}async evalScript(t,e){return(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider"),this.client.evalScript(t,e)}async setFormJSONUpdateBatchMode(t){return this.client.setFormJSONUpdateBatchMode(t)}async applyOperationsAndReload(t){(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider");try{let e,r;({processedOperations:e,operationsDocuments:r}=await V(t)),await this.client.applyOperations(e,r)}catch(t){throw new o.p2(`Applying operations failed: ${t}`)}return this.provider._state=this.provider._state.set("alreadyLoadedPages",(0,i.D5)()),this.reloadDocument()}async applyRedactionsAndReload(){(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider");try{await this.client.applyRedactions()}catch(t){throw new o.p2(`Applying redactions failed: ${t}`)}return this.reloadDocument()}async reloadDocument(){try{var t;null===(t=this.provider)||void 0===t||t.destroy(),this.provider=new b(this.client,null);const e=await this.client.reloadDocument();this._state=this._state.set("documentResponse",e).set("documentHandle",(parseInt(this._state.documentHandle)+1).toString()).set("signaturesInfoPromise",null);let r=[];if(this._isPDFJavaScriptEnabled){const t=await this.client.enablePDFJavaScriptSupport(),e=await this.client.runPDFFormattingScripts();r=(0,P.gE)(t,e)}return{features:this._state.features,signatureFeatureAvailability:this._state.signatureFeatureAvailability,hasPassword:!1,allowedTileScales:"all",jsActionChanges:r}}catch(t){throw new o.p2(`Reloading failed: ${t}`)}}async getEmbeddedFiles(){const t=await this.client.getEmbeddedFilesList();return(0,i.aV)(t.map((t=>{let{id:e,...r}=t;return(0,j.i)(e,r,!0)})))}async exportPDFWithOperations(t){try{let e,r;return(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider"),({processedOperations:e,operationsDocuments:r}=await V(t)),this.client.exportPDFWithOperations(e,r)}catch(t){throw new o.p2(`Exporting PDF with operations failed: ${t}`)}}getSignaturesInfo(){try{if((0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider"),this._state.signaturesInfoPromise)return this._state.signaturesInfoPromise;const t=this.client.getSignaturesInfo().then((t=>(0,f.rS)(t)));return this._state=this._state.set("signaturesInfoPromise",t),t}catch(t){throw new o.p2(`Getting document signatures info: ${t}`)}}async refreshSignaturesInfo(){this._state=this._state.set("signaturesInfoPromise",null)}async loadCertificates(t){return this.client.loadCertificates(t)}async signDocumentAndReload(t,e){(0,o.kG)("function"==typeof e,"Signing document failed: twoStepSignatureCallback must be a function");const r=t&&t.placeholderSize?{estimatedSize:t.placeholderSize}:null;(0,o.kG)(this.provider instanceof b,"Standalone can only use standalone annotation provider");try{const{hash:n,signatureFormFieldName:i,file:s,fileContents:a}=await this.client.prepareSignInvisible(r,!!t&&Boolean(t.flatten));(0,o.kG)("function"==typeof e,"twoStepSignatureCallback must be a function");const u=await e({hash:n,fileContents:a});let c;if(!(u instanceof ArrayBuffer))throw new o.p2("Resolved value from twoStepSignatureCallback is of type "+typeof u+" and it must be an ArrayBuffer instead.");c=u,await this.client.sign(s,i,(0,I.sM)(c)),await this.reloadDocument()}catch(t){throw await this.client.restoreToOriginalState(),t}}cancelRequests(){this._requestQueue.cancelAll()}async syncChanges(){}getDefaultGroup(){}isCollaborationPermissionsEnabled(){return!1}async clearAPStreamCache(){return this.client.clearAPStreamCache()}async setComparisonDocument(t,e){return this.client.setComparisonDocument(t,e)}async openComparisonDocument(t){return this._state=this._state.set("forceAnnotationsRender",!1),await this.client.closeDocument(),this._state=this._state.set("forceAnnotationsRender",!0),await this.client.openComparisonDocument(t)||this._state.documentResponse}async documentCompareAndOpen(t){return this.client.documentCompareAndOpen(t)}async persistOpenDocument(t){return this.client.persistOpenDocument(t)}async cleanupDocumentComparison(){return this.client.cleanupDocumentComparison()}}function q(t){return{baseUrl:t.baseUrl,licenseKey:t.licenseKey,document:t.document,disableWebAssembly:!!t.disableWebAssembly,disableWebAssemblyStreaming:!!t.disableWebAssemblyStreaming,enableAutomaticLinkExtraction:!!t.enableAutomaticLinkExtraction,overrideMemoryLimit:"number"==typeof t.overrideMemoryLimit?t.overrideMemoryLimit:null,documentHandle:"number"==typeof t.documentHandle?t.documentHandle:"0",trustedCAsCallback:"function"==typeof t.trustedCAsCallback?t.trustedCAsCallback:null,customFonts:Array.isArray(t.customFonts)?t.customFonts.filter((t=>t instanceof N.Z)):null,forceLegacySignaturesFeature:Boolean(t.forceLegacySignaturesFeature),electronAppName:"string"==typeof t.electronAppName?t.electronAppName:null}}function $(t){const{licenseKey:e,instantJSON:r,XFDF:n,disableWebAssembly:i,disableWebAssemblyStreaming:s,disableIndexedDBCaching:a,enableAutomaticLinkExtraction:u,overrideMemoryLimit:c,standaloneInstancesPoolSize:l,trustedCAsCallback:d,baseUrl:h,customFonts:f}=t;if((0,o.kG)("string"==typeof h,"`baseUrl` is mandatory and must be a valid URL, e.g. `https://example.com/"),(0,C.Pn)(h),(0,o.kG)(null==e||"string"==typeof e,"licenseKey must be a string value if provided. Please obtain yours from https://customers.pspdfkit.com."),"string"==typeof e&&(0,o.kG)(!e.startsWith("TRIAL-"),"You're using the npm key instead of the license key. This key is used to download the PSPDFKit for Web package via the node package manager.\n\nLeave out the license key to activate as a trial."),(0,o.kG)(void 0===n||"string"==typeof n,"XFDF must be a string"),r){(0,o.kG)("object"==typeof r&&null!==r,"instantJSON must be an Object"),(0,o.kG)(void 0===n,"Cannot import from both instantJSON and XFDF"),(0,o.kG)("https://pspdfkit.com/instant-json/v1"===r.format,"instantJSON has an invalid format, please use 'https://pspdfkit.com/instant-json/v1");const{pdfId:t}=r;t&&(0,o.kG)("object"==typeof t&&null!==t&&("string"==typeof t.permanent&&"string"==typeof t.changing||"string"!=typeof t.permanent&&"string"!=typeof t.changing),"instantJSON has an invalid pdfId"),(0,o.kG)(void 0===r.skippedPdfObjectIds||Array.isArray(r.skippedPdfObjectIds),"instantJSON has invalid skippedPdfObjectIds"),(0,o.kG)(void 0===r.annotations||Array.isArray(r.annotations)&&r.annotations.every((t=>"object"==typeof t&&null!==t)),"instantJSON has invalid annotations"),(0,o.kG)(void 0===r.formFieldValues||Array.isArray(r.formFieldValues)&&r.formFieldValues.every((t=>"object"==typeof t&&null!==t)),"instantJSON has invalid form field values"),(0,o.kG)(void 0===r.skippedPdfBookmarkIds||Array.isArray(r.skippedPdfBookmarkIds),"instantJSON has invalid skippedPdfBookmarkIds"),(0,o.kG)(void 0===r.bookmarks||Array.isArray(r.bookmarks)&&r.bookmarks.every((t=>"object"==typeof t&&null!==t)),"instantJSON has invalid bookmarks")}(0,o.kG)(void 0===i||"boolean"==typeof i,"disableWebAssembly must be a boolean"),(0,o.kG)(void 0===s||"boolean"==typeof s,"disableWebAssemblyStreaming must be a boolean"),(0,o.kG)(void 0===u||"boolean"==typeof u,"enableAutomaticLinkExtraction must be a boolean"),(0,o.kG)(void 0===c||"number"==typeof c,"overrideMemoryLimit must be a number"),(0,o.kG)(void 0===l||"number"==typeof l&&l>=0,"standaloneInstancesPoolSize must be a non-negative number"),(0,o.kG)(void 0===d||"function"==typeof d,"trustedCAsCallback must be a function"),(0,o.kG)(void 0===f||Array.isArray(f)&&f.every((t=>t instanceof N.Z)),"customFonts must be an array of PSPDFKit.Font instances"),(0,o.kG)(void 0===f||f.every((t=>t.callback)),"All PSPDFKit.Font instances specified on customFonts must have its callback property defined"),void 0!==a&&(0,o.a1)("disableIndexedDbCaching has been deprecated and it no longer has effect. It will be removed in a later version.\nBrowsers dropped IndexedDB serialization of Wasm modules in favor of regular HTTP caching.")}async function V(t){const e=new WeakMap,r={};return{processedOperations:await Promise.all(t.map((async(t,n)=>{if("importDocument"===t.type){const{document:i}=t;return(0,o.kG)(i instanceof File||i instanceof Blob,"Wrong `importDocument` operation `document` value: it must be a File or a Blob"),(0,k.M)(e,r,i,t,n,"document")}if("applyInstantJson"===t.type){const i=t.instantJson;(0,o.kG)("object"==typeof i&&null!==i,"Wrong `applyInstantJson` operation `instantJson` value: it must be an object");const s=JSON.stringify(i),a=new Blob([s],{type:"application/json"});return(0,k.M)(e,r,a,t,n,"dataFilePath")}if("applyXfdf"===t.type){const i=t.xfdf;(0,o.kG)("string"==typeof i,"Wrong `applyXfdf` operation `xfdf` value: it must be a string");const s=new Blob([i],{type:"application/vnd.adobe.xfdf"});return(0,k.M)(e,r,s,t,n,"dataFilePath")}return t}))),operationsDocuments:r}}var K=r(95453),W=r(14651);let J;class H extends G{constructor(t){const e=t.baseUrl||(0,n.SV)(window.document),r={...t,baseUrl:e};if("string"!=typeof r.baseUrl)throw new o.p2("`baseUrl` is mandatory and must be a valid URL, e.g. `https://example.com/`");if("string"!=typeof r.document&&!(r.document instanceof ArrayBuffer))throw new o.p2("document must be either an URL to a supported document type (PDF and images), e.g. `https://example.com/document.pdf`, or an `ArrayBuffer`");if(J&&J!==r.licenseKey)throw new o.p2("Trying to re-use PSPDFKit for Web with a different licenseKey than the previous one.\nUnfortunately we only allow one licenseKey per instance.\nPlease contact support for further assistance.");if("string"==typeof r.licenseKey&&r.licenseKey.startsWith("TRIAL-"))throw new o.p2("You're using the npm key instead of the license key. This key is used to download the PSPDFKit for Web package via the node package manager.\n\nLeave out the license key to activate as a trial.");super(r),this.destroyed=!1}async load(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=.2;e.progressCallback&&e.progressCallback("loading",r),t="string"==typeof this._state.document?fetch(this._state.document,{credentials:"same-origin"}).then((t=>t.arrayBuffer())).finally((()=>{r+=.3,e.progressCallback&&e.progressCallback("loading",r)})):this._state.document;const n=await Y(this.client,this._state).finally((()=>{r+=.3,e.progressCallback&&e.progressCallback("loading",r)}));(0,o.kG)(n);const{features:s,signatureFeatureAvailability:a}=n,u=a===F.H.ELECTRONIC_SIGNATURES&&s.includes(W.q.WEB_ANNOTATION_EDITING)&&this._state.forceLegacySignaturesFeature?F.H.LEGACY_SIGNATURES:a;this._state=this._state.set("features",(0,i.aV)(s)).set("signatureFeatureAvailability",u),J=this._state.licenseKey;const c=await t;let l;try{l=this.destroyed?await new Promise((()=>{})):await this.client.openDocument(c,e.password)}catch(t){throw"INVALID_PASSWORD"===t.message&&this._state.document instanceof ArrayBuffer&&(this._state=this._state.set("document",t.callArgs[0])),"IMAGE_DOCUMENTS_NOT_LICENSED"===t.message&&(t.message="The image documents feature is not enabled for your license key. Please contact support or sales to purchase the UI module for PSPDFKit for Web."),t}this._XFDF&&await this.client.importXFDF(this._XFDF.source,this._XFDF.keepCurrentAnnotations);let h=[];if(d.Ei.PDF_JAVASCRIPT){const t=await this.client.enablePDFJavaScriptSupport(),e=await this.client.runPDFFormattingScripts();h=(0,P.gE)(t,e)}if(this._instantJSON&&this._instantJSON.pdfId&&l.ID.permanent){const t=this._instantJSON.pdfId,e=l.ID;if(t.permanent!==e.permanent)throw new o.p2("Could not instantiate from Instant JSON: Permanent PDF ID mismatch.\nPlease use the same PDF document that was used to create this Instant JSON.\nFor more information, please visit: https://pspdfkit.com/guides/web/current/importing-exporting/instant-json/");if(t.changing!==e.changing)throw new o.p2("Could not instantiate from Instant JSON: Changing PDF ID mismatch.\nPlease use the same revision of this PDF document that was used to create this Instant JSON.\nFor more information, please visit: https://pspdfkit.com/guides/web/current/importing-exporting/instant-json/")}if(this._trustedCAsCallback)try{const t=await this._trustedCAsCallback();if(!Array.isArray(t))throw new o.p2("Certificates response must be an array");if(t.some((t=>!(t instanceof ArrayBuffer)&&"string"!=typeof t)))throw new o.p2("All certificates must be passed as ArrayBuffer (DER) or string (PEM)");await this.client.loadCertificates(t.map(I.uF))}catch(t){throw new o.p2(`Could not retrieve certificates for digital signatures validation: ${t.message}.`)}return this._state=this._state.set("documentResponse",l),{features:this._state.features,signatureFeatureAvailability:this._state.signatureFeatureAvailability,hasPassword:!!e.password,allowedTileScales:"all",jsActionChanges:h}}destroy(){this.destroyed=!0,super.destroy()}}const X={current:void 0};function Y(t,e){var r;X.current=X.current||(e.customFonts?(r=e.customFonts,Promise.all(r.map((t=>new Promise((e=>{var r;(0,o.kG)(t.name),null==t||null===(r=t.callback)||void 0===r||r.call(t,t.name).then((r=>{(0,o.kG)(t.name),r instanceof Blob?e({name:t.name,data:r}):((0,o.vU)(`Callback for retrieving font ${t.name} didn't returned a Blob. It returned ${typeof r}`),e())})).catch((r=>{(0,o.vU)(`Error returned by callback for retrieving font ${t.name}. ${r}`),e()}))}))))).then((t=>t.filter(Boolean)))):void 0);const n=e.electronAppName||(0,K.$u)()||window.location.origin;return t.loadNativeModule(e.baseUrl,{mainThreadOrigin:n,disableWebAssembly:e.disableWebAssembly,disableWebAssemblyStreaming:e.disableWebAssemblyStreaming,enableAutomaticLinkExtraction:e.enableAutomaticLinkExtraction,overrideMemoryLimit:e.overrideMemoryLimit}).then((async()=>X.current?t.load(e.baseUrl,e.licenseKey,{mainThreadOrigin:n,customFonts:await X.current}):t.load(e.baseUrl,e.licenseKey,{mainThreadOrigin:n})))}},1367:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(35369),i=r(46232);function o(){return!0}class s{constructor(t){this.queue=(0,n.zN)(),this.priorityQueue=(0,n.zN)(),this.inFlightRequests=(0,n.D5)(),this.inflightRequestLimit=t,this.isDestroyed=!1}enqueue(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isDestroyed)return{promise:new Promise((()=>{})),cancel:()=>{}};let r=null,i=null;const o=new Promise(((t,e)=>{r=t,i=e})),s=e?this.priorityQueue:this.queue,a=(0,n.t8)(s,t,{promise:o,resolve:r,reject:i});return e?this.priorityQueue=a:this.queue=a,e?this.next():setTimeout((()=>this.next()),35),{promise:o,cancel:()=>this._cancel(t)}}_cancel(t){this.queue.has(t)&&(this.queue=this.queue.delete(t)),this.priorityQueue.has(t)&&(this.priorityQueue=this.priorityQueue.delete(t)),this.inFlightRequests.has(t)&&(this.inFlightRequests=this.inFlightRequests.delete(t))}cancelAll(){this.queue=(0,n.zN)(),this.priorityQueue=(0,n.zN)(),this.inFlightRequests=(0,n.D5)()}_requestFinished(t,e){if(this.isDestroyed)return;const r=this.inFlightRequests.get(t);r&&(r.resolve(e),this.inFlightRequests=this.inFlightRequests.delete(t)),this.next()}_requestFailed(t,e){if(this.isDestroyed)return;const r=this.inFlightRequests.get(t);r&&(r.reject(e),this.inFlightRequests=this.inFlightRequests.delete(t)),this.next()}next(){if(!(this.isDestroyed||this.inFlightRequests.size>=this.inflightRequestLimit)){if(this.priorityQueue.size>=1){const t=this.priorityQueue.findLastEntry(o);(0,i.k)(t);const[e,r]=t;return this.priorityQueue=this.priorityQueue.delete(e),this.inFlightRequests=this.inFlightRequests.set(e,r),void e.request().then((t=>this._requestFinished(e,t))).catch((t=>this._requestFailed(e,t)))}if(this.queue.size>=1){const t=this.queue.findEntry(o);(0,i.k)(t);const[e,r]=t;this.queue=this.queue.delete(e),this.inFlightRequests=this.inFlightRequests.set(e,r),e.request().then((t=>this._requestFinished(e,t))).catch((t=>this._requestFailed(e,t)))}}}destroy(){this.isDestroyed=!0}}},42457:(t,e,r)=>{"use strict";r.d(e,{i:()=>a});var n=r(35369);class i extends(n.WV({id:"",attachmentId:"",description:null,fileName:null,fileSize:null,updatedAt:null})){}var o=r(55090);function s(t,e){return e}function a(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(0,r)?new i({id:(0,o.C)(),description:e.fileDescription,attachmentId:t,fileName:e.fileName||null,fileSize:e.fileSize||null,updatedAt:e.modificationDate?new Date(e.modificationDate):null}):new i({id:t,description:e.description,attachmentId:e.fileAttachmentId,fileName:e.fileName||null,fileSize:e.fileSize||null,updatedAt:new Date(e.updatedAt)||null})}},94290:(t,e,r)=>{"use strict";function n(t,e,r,n,i,o){let s;return t.has(r)?s=t.get(r):(s=i.toString(),e[s]=r,t.set(r,s)),{...n,[o]:s}}r.d(e,{M:()=>n})},89777:(t,e,r)=>{"use strict";r.d(e,{E:()=>a});var n=r(85596),i=r(35369),o=r(70545),s=r(51908);function a(t){return(0,o.kG)(Array.isArray(t),"Wrong `json` field"),(0,i.aV)(t.map((t=>((0,o.kG)("number"==typeof t.pageIndex,"Wrong `pageIndex` field"),(0,o.kG)("string"==typeof t.previewText,"Wrong `previewText` field"),(0,o.kG)(Array.isArray(t.rangeInPreview),"Wrong `rangeInPreview` field"),(0,o.kG)(Array.isArray(t.rectsOnPage),"Wrong `rectsOnPage` field"),new s.Z({pageIndex:t.pageIndex,previewText:t.previewText,locationInPreview:t.rangeInPreview[0],lengthInPreview:t.rangeInPreview[1],rectsOnPage:(0,i.aV)(t.rectsOnPage).map((t=>(0,n.k)(t))),isAnnotation:!!t.isAnnotation,annotationRect:t.annotationRect?(0,n.k)(t.annotationRect):null})))).filter(Boolean))}},42876:(t,e,r)=>{t.exports=function(){return r(69855)('/*!\n * PSPDFKit for Web 2022.3.0 (https://pspdfkit.com/web)\n *\n * Copyright (c) 2016-2022 PSPDFKit GmbH. All rights reserved.\n *\n * THIS SOURCE CODE AND ANY ACCOMPANYING DOCUMENTATION ARE PROTECTED BY INTERNATIONAL COPYRIGHT LAW\n * AND MAY NOT BE RESOLD OR REDISTRIBUTED. USAGE IS BOUND TO THE PSPDFKIT LICENSE AGREEMENT.\n * UNAUTHORIZED REPRODUCTION OR DISTRIBUTION IS SUBJECT TO CIVIL AND CRIMINAL PENALTIES.\n * This notice may not be removed from this file.\n *\n * PSPDFKit uses several open source third-party components: https://pspdfkit.com/acknowledgements/web/\n */(()=>{var t={7932:()=>{Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(r,n){return Array.isArray(n)?r.push.apply(r,t.call(n,e-1)):r.push(n),r}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0})},6199:(t,e,r)=>{"use strict";r(4633),r(4301),r(7932);"object"==typeof window&&(window._babelPolyfill=!1);const n=function t(e){let r;return r=e instanceof Error?e:new Error(e),Object.setPrototypeOf(r,t.prototype),r};n.prototype=Object.create(Error.prototype,{name:{value:"PSPDFKitError",enumerable:!1}});const i=n;function o(t,e){if(!t)throw new i(`Assertion failed: ${e||"Condition not met"}\\n\\nFor further assistance, please go to: https://pspdfkit.com/support/request`)}function a(t){console.log(t)}function s(t){console.warn(t)}function u(t){console.error(t)}["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",\'[tabindex]:not([tabindex^="-"])\'].join(",");function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return t.indexOf("Trident/")>-1?"trident":t.indexOf("Edge/")>-1?"edge":t.indexOf("Chrome/")>-1?"blink":t.indexOf("AppleWebKit/")>-1?"webkit":t.indexOf("Gecko/")>-1?"gecko":"unknown"}function l(t,e){const r=new RegExp(` ${e}/(\\\\d+)\\\\.*`);let n;return(n=t.match(r))?Number(n[1]):0}function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.platform,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.maxTouchPoints;return e.indexOf("MacIntel")>-1&&r>1?"ios":t.indexOf("Win")>-1?"windows":t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1?"ios":t.indexOf("Mac")>-1?"macos":t.indexOf("Android")>-1?"android":t.indexOf("Linux")>-1?"linux":"unknown"}const h=c(),p=f(),d=(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;switch(c(t)){case"trident":return l(t,"Trident");case"edge":return l(t,"Edge");case"blink":return l(t,"Chrome");case"webkit":return l(t,"Version");case"gecko":return l(t,"Firefox");default:;}}(),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();"ios"===t||"android"===t||m(e)}(),"trident"===h);"ios"===p||m();function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c();return("undefined"==typeof window||!window.PSPDFKIT_PLAYWRIGHT_TEST)&&("webkit"===t&&"undefined"!=typeof TouchEvent)}let g;"undefined"!=typeof window&&(window.addEventListener("mousemove",(function t(){g=!1,window.removeEventListener("mousemove",t)})),window.addEventListener("pointermove",(function t(e){"mouse"!==e.pointerType&&"pen"!==e.pointerType||(g=!1),window.removeEventListener("pointermove",t)})));var y=r(1117),v=r.n(y),_=r(5349),b=r.n(_),w=r(4643),E=r.n(w),S=r(7673),A=r.n(S);const D="modern/pspdfkit-lib/",O=`${D}pspdfkit${"-"+b()}.wasm.js`,I=`${D}pspdfkit${"-"+v()}.wasm`,T=`${D}pspdfkit${"-"+E()}.asm.js`,F=`${D}pspdfkit${"-"+A()}.asm.js.mem`;function M(t){try{if(/Version\\/11\\..*Safari/i.test(t.navigator.userAgent))return!1}catch(t){}return"object"==typeof t.WebAssembly&&"function"==typeof t.WebAssembly.instantiate}function C(t,e,r){const n={wasmBinaryFile:t+I,locateFile:e=>"pspdfkit.asm.js.mem"===e?t+F:e,wasmBinary:undefined};if(r){const t=fetch(n.wasmBinaryFile,{credentials:"same-origin"});n.instantiateWasm=(r,i)=>((async()=>{a(`Start ${n.wasmBinaryFile} download.`);const o=Date.now();let s,c;const l=!e&&"function"==typeof WebAssembly.instantiateStreaming;function f(){return t.then((t=>{if(!t.ok)throw new Error(`Error loading ${n.wasmBinaryFile}: ${t.statusText}`);return t.arrayBuffer()})).then((t=>(c=Date.now(),a(`Download complete, took: ${c-o}ms`),WebAssembly.instantiate(new Uint8Array(t),r))))}if(l){if("edge"===h){const t=WebAssembly.instantiateStreaming;WebAssembly.instantiateStreaming=function(e,r){return Promise.resolve(e).then((e=>t(e,r)))}}s=WebAssembly.instantiateStreaming(t,r).then((t=>(c=Date.now(),a(`Download and Instantiation complete, took: ${Date.now()-o}ms`),t))).catch((t=>{if(/mime.*type/i.test(t.message))return u(t.message),null;throw t}))}else s=f();let p=await s;null===p&&(u("Streaming instantiation failed! Falling back to classic instantiation. This might result in slower initialization time therefore we highly recommend to follow the troubleshooting instructions in our guides to fix this error: https://pspdfkit.com/guides/web/current/troubleshooting/common-issues/#response-has-unsupported-mime-type-error."),p=await f()),!l&&c&&a(`Compilation and Instantiation complete, took: ${Date.now()-c}ms`),i(p.instance,p.module)})(),{})}return n}function R(t,e){t.PSPDFLoggingServices={error(t,e){u(`[${t}] ${e}`)},warn(t,e){s(`[${t}] ${e}`)},info(t,e){0},debug(t,e){0},trace(t,e){0}},t.BEEE5011DDCD4E47A799CDE7C2262CE6={stats(t){const r=JSON.parse(t);return r.bundle_id=function(t){let e;e=t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e=e.split("#")[0],e=e.split("/")[0],e}(e),r.pspdf_version="2022.3.0",r.system_version=navigator.userAgent,r.preferred_locale=navigator.language,JSON.stringify(r)}}}function P(t){return"object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node?Promise.resolve(r(2380)(t)):"object"==typeof window?new Promise(((e,r)=>{const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.onload=()=>e(window.PSPDFModuleInit),n.onerror=r,n.src=t;const{documentElement:i}=document;o(i),i.appendChild(n)})):(self.importScripts(t),Promise.resolve(self.PSPDFModuleInit))}function x(t){const e=new FileReader;return new Promise(((r,n)=>{e.onerror=t=>{n(new Error(t))},e.onload=t=>{var e;r(new Uint8Array(null===(e=t.target)||void 0===e?void 0:e.result))},e.readAsArrayBuffer(t)}))}const N="text",L="documentA",k="documentB",j="result";var B=32,z=31,U={};function G(t){t&&(t.value=!0)}function q(){}function $(t){return void 0===t.size&&(t.size=t.__iterate(H)),t.size}function V(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?$(t)+e:e}function H(){return!0}function K(t,e,r){return(0===t&&!Y(t)||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function W(t,e){return X(t,e,0)}function J(t,e){return X(t,e,e)}function X(t,e,r){return void 0===t?r:Y(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function Y(t){return t<0||0===t&&1/t==-1/0}var Z="@@__IMMUTABLE_ITERABLE__@@";function Q(t){return Boolean(t&&t[Z])}var tt="@@__IMMUTABLE_KEYED__@@";function et(t){return Boolean(t&&t[tt])}var rt="@@__IMMUTABLE_INDEXED__@@";function nt(t){return Boolean(t&&t[rt])}function it(t){return et(t)||nt(t)}var ot=function(t){return Q(t)?t:Tt(t)},at=function(t){function e(t){return et(t)?t:Ft(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ot),st=function(t){function e(t){return nt(t)?t:Mt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ot),ut=function(t){function e(t){return Q(t)&&!it(t)?t:Ct(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ot);ot.Keyed=at,ot.Indexed=st,ot.Set=ut;var ct="@@__IMMUTABLE_SEQ__@@";function lt(t){return Boolean(t&&t[ct])}var ft="@@__IMMUTABLE_RECORD__@@";function ht(t){return Boolean(t&&t[ft])}function pt(t){return Q(t)||ht(t)}var dt="@@__IMMUTABLE_ORDERED__@@";function mt(t){return Boolean(t&&t[dt])}var gt="function"==typeof Symbol&&Symbol.iterator,yt="@@iterator",vt=gt||yt,_t=function(t){this.next=t};function bt(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function wt(){return{value:void 0,done:!0}}function Et(t){return!!Dt(t)}function St(t){return t&&"function"==typeof t.next}function At(t){var e=Dt(t);return e&&e.call(t)}function Dt(t){var e=t&&(gt&&t[gt]||t["@@iterator"]);if("function"==typeof e)return e}_t.prototype.toString=function(){return"[Iterator]"},_t.KEYS=0,_t.VALUES=1,_t.ENTRIES=2,_t.prototype.inspect=_t.prototype.toSource=function(){return this.toString()},_t.prototype[vt]=function(){return this};var Ot=Object.prototype.hasOwnProperty;function It(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var Tt=function(t){function e(t){return null==t?Lt():pt(t)?t.toSeq():function(t){var e=Bt(t);if(e)return e;if("object"==typeof t)return new Pt(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[e?n-++i:i++];if(!1===t(o[1],o[0],this))break}return i}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var r=this._cache;if(r){var n=r.length,i=0;return new _t((function(){if(i===n)return{value:void 0,done:!0};var o=r[e?n-++i:i++];return bt(t,o[0],o[1])}))}return this.__iteratorUncached(t,e)},e}(ot),Ft=function(t){function e(t){return null==t?Lt().toKeyedSeq():Q(t)?et(t)?t.toSeq():t.fromEntrySeq():ht(t)?t.toSeq():kt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Tt),Mt=function(t){function e(t){return null==t?Lt():Q(t)?et(t)?t.entrySeq():t.toIndexedSeq():ht(t)?t.toSeq().entrySeq():jt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Tt),Ct=function(t){function e(t){return(Q(t)&&!it(t)?t:Mt(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Tt);Tt.isSeq=lt,Tt.Keyed=Ft,Tt.Set=Ct,Tt.Indexed=Mt,Tt.prototype[ct]=!0;var Rt=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[V(this,t)]:e},e.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length,i=0;i!==n;){var o=e?n-++i:i++;if(!1===t(r[o],o,this))break}return i},e.prototype.__iterator=function(t,e){var r=this._array,n=r.length,i=0;return new _t((function(){if(i===n)return{value:void 0,done:!0};var o=e?n-++i:i++;return bt(t,o,r[o])}))},e}(Mt),Pt=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return Ot.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var a=n[e?i-++o:o++];if(!1===t(r[a],a,this))break}return o},e.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length,o=0;return new _t((function(){if(o===i)return{value:void 0,done:!0};var a=n[e?i-++o:o++];return bt(t,a,r[a])}))},e}(Ft);Pt.prototype[dt]=!0;var xt,Nt=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=At(this._collection),n=0;if(St(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=At(this._collection);if(!St(r))return new _t(wt);var n=0;return new _t((function(){var e=r.next();return e.done?e:bt(t,n++,e.value)}))},e}(Mt);function Lt(){return xt||(xt=new Rt([]))}function kt(t){var e=Array.isArray(t)?new Rt(t):Et(t)?new Nt(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new Pt(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function jt(t){var e=Bt(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Bt(t){return It(t)?new Rt(t):Et(t)?new Nt(t):void 0}var zt="@@__IMMUTABLE_MAP__@@";function Ut(t){return Boolean(t&&t[zt])}function Gt(t){return Ut(t)&&mt(t)}function qt(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function $t(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(qt(t)&&qt(e)&&t.equals(e))}var Vt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function Ht(t){return t>>>1&1073741824|3221225471&t}function Kt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return Ht(r)}if("string"===e)return t.length>ee?function(t){var e=ie[t];void 0===e&&(e=Wt(t),ne===re&&(ne=0,ie={}),ne++,ie[t]=e);return e}(t):Wt(t);if("function"==typeof t.hashCode)return Ht(t.hashCode());if("object"===e||"function"===e)return function(t){var e;if(Zt&&void 0!==(e=Yt.get(t)))return e;if(void 0!==(e=t[te]))return e;if(!Xt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[te]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++Qt,1073741824&Qt&&(Qt=0);if(Zt)Yt.set(t,e);else{if(void 0!==Jt&&!1===Jt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Xt)Object.defineProperty(t,te,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[te]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[te]=e}}return e}(t);if("function"==typeof t.toString)return Wt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Wt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Ht(e)}var Jt=Object.isExtensible,Xt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var Yt,Zt="function"==typeof WeakMap;Zt&&(Yt=new WeakMap);var Qt=0,te="__immutablehash__";"function"==typeof Symbol&&(te=Symbol(te));var ee=16,re=255,ne=0,ie={},oe=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=fe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var r=this,n=le(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e,n){return t(e,n,r)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(Ft);oe.prototype[dt]=!0;var ae=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this,n=0;return e&&$(this),this._iter.__iterate((function(i){return t(i,e?r.size-++n:n++,r)}),e)},e.prototype.__iterator=function(t,e){var r=this,n=this._iter.__iterator(1,e),i=0;return e&&$(this),new _t((function(){var o=n.next();return o.done?o:bt(t,e?r.size-++i:i++,o.value,o)}))},e}(Mt),se=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){return t(e,e,r)}),e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e);return new _t((function(){var e=r.next();return e.done?e:bt(t,e.value,e.value,e)}))},e}(Ct),ue=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){if(e){Ee(e);var n=Q(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}}),e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e);return new _t((function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){Ee(n);var i=Q(n);return bt(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}}))},e}(Ft);function ce(t){var e=Ae(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=De,e.__iterateUncached=function(e,r){var n=this;return t.__iterate((function(t,r){return!1!==e(r,t,n)}),r)},e.__iteratorUncached=function(e,r){if(2===e){var n=t.__iterator(e,r);return new _t((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,r)},e}function le(t,e,r){var n=Ae(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,U);return o===U?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate((function(t,i,a){return!1!==n(e.call(r,t,i,a),i,o)}),i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(2,i);return new _t((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return bt(n,s,e.call(r,a[1],s,t),i)}))},n}function fe(t,e){var r=this,n=Ae(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ce(t);return e.reverse=function(){return t.flip()},e}),n.get=function(r,n){return t.get(e?r:-1-r,n)},n.has=function(r){return t.has(e?r:-1-r)},n.includes=function(e){return t.includes(e)},n.cacheResult=De,n.__iterate=function(r,n){var i=this,o=0;return n&&$(t),t.__iterate((function(t,a){return r(t,e?a:n?i.size-++o:o++,i)}),!n)},n.__iterator=function(n,i){var o=0;i&&$(t);var a=t.__iterator(2,!i);return new _t((function(){var t=a.next();if(t.done)return t;var s=t.value;return bt(n,e?s[0]:i?r.size-++o:o++,s[1],t)}))},n}function he(t,e,r,n){var i=Ae(t);return n&&(i.has=function(n){var i=t.get(n,U);return i!==U&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,U);return o!==U&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate((function(t,o,u){if(e.call(r,t,o,u))return s++,i(t,n?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(2,o),s=0;return new _t((function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(r,l,c,t))return bt(i,n?c:s++,l,o)}}))},i}function pe(t,e,r,n){var i=t.size;if(K(e,r,i))return t;var o=W(e,i),a=J(r,i);if(o!=o||a!=a)return pe(t.toSeq().cacheResult(),e,r,n);var s,u=a-o;u==u&&(s=u<0?0:u);var c=Ae(t);return c.size=0===s?s:t.size&&s||void 0,!n&&lt(t)&&s>=0&&(c.get=function(e,r){return(e=V(this,e))>=0&&e<s?t.get(e+o,r):r}),c.__iterateUncached=function(e,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var a=0,u=!0,c=0;return t.__iterate((function(t,r){if(!u||!(u=a++<o))return c++,!1!==e(t,n?r:c-1,i)&&c!==s})),c},c.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);if(0===s)return new _t(wt);var i=t.__iterator(e,r),a=0,u=0;return new _t((function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var t=i.next();return n||1===e||t.done?t:bt(e,u-1,0===e?void 0:t.value[1],t)}))},c}function de(t,e,r,n){var i=Ae(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate((function(t,o,c){if(!s||!(s=e.call(r,t,o,c)))return u++,i(t,n?o:u-1,a)})),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(2,o),u=!0,c=0;return new _t((function(){var t,o,l;do{if((t=s.next()).done)return n||1===i?t:bt(i,c++,0===i?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(r,l,o,a))}while(u);return 2===i?t:bt(i,o,l,t)}))},i}function me(t,e){var r=et(t),n=[t].concat(e).map((function(t){return Q(t)?r&&(t=at(t)):t=r?kt(t):jt(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===n.length)return t;if(1===n.length){var i=n[0];if(i===t||r&&et(i)||nt(t)&&nt(i))return i}var o=new Rt(n);return r?o=o.toKeyedSeq():nt(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce((function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}}),0),o}function ge(t,e,r){var n=Ae(t);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;return function t(u,c){u.__iterate((function(o,u){return(!e||c<e)&&Q(o)?t(o,c+1):(a++,!1===i(o,r?u:a-1,n)&&(s=!0)),!s}),o)}(t,0),a},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=t.__iterator(n,i),a=[],s=0;return new _t((function(){for(;o;){var t=o.next();if(!1===t.done){var u=t.value;if(2===n&&(u=u[1]),e&&!(a.length<e)||!Q(u))return r?t:bt(n,s++,u,t);a.push(o),o=u.__iterator(n,i)}else o=a.pop()}return{value:void 0,done:!0}}))},n}function ye(t,e,r){e||(e=Oe);var n=et(t),i=0,o=t.toSeq().map((function(e,n){return[n,e,i++,r?r(e,n,t):e]})).valueSeq().toArray();return o.sort((function(t,r){return e(t[3],r[3])||t[2]-r[2]})).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?Ft(o):nt(t)?Mt(o):Ct(o)}function ve(t,e,r){if(e||(e=Oe),r){var n=t.toSeq().map((function(e,n){return[e,r(e,n,t)]})).reduce((function(t,r){return _e(e,t[1],r[1])?r:t}));return n&&n[0]}return t.reduce((function(t,r){return _e(e,t,r)?r:t}))}function _e(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function be(t,e,r,n){var i=Ae(t),o=new Rt(r).map((function(t){return t.size}));return i.size=n?o.max():o.min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(1,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=ot(t),At(i?t.reverse():t)})),a=0,s=!1;return new _t((function(){var r;return s||(r=o.map((function(t){return t.next()})),s=n?r.every((function(t){return t.done})):r.some((function(t){return t.done}))),s?{value:void 0,done:!0}:bt(t,a++,e.apply(null,r.map((function(t){return t.value}))))}))},i}function we(t,e){return t===e?t:lt(t)?e:t.constructor(e)}function Ee(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Se(t){return et(t)?at:nt(t)?st:ut}function Ae(t){return Object.create((et(t)?Ft:nt(t)?Mt:Ct).prototype)}function De(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Tt.prototype.cacheResult.call(this)}function Oe(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Ie(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function Te(t,e){if(!t)throw new Error(e)}function Fe(t){Te(t!==1/0,"Cannot perform this action with an infinite size.")}function Me(t){if(It(t)&&"string"!=typeof t)return t;if(mt(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function Ce(t){return t&&(t.constructor&&"Object"===t.constructor.name||void 0===t.constructor)}function Re(t){return"object"==typeof t&&(pt(t)||Array.isArray(t)||Ce(t))}function Pe(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function xe(t,e){return pt(t)?t.has(e):Re(t)&&Ot.call(t,e)}function Ne(t,e,r){return pt(t)?t.get(e,r):xe(t,e)?"function"==typeof t.get?t.get(e):t[e]:r}function Le(t){if(Array.isArray(t))return Ie(t);var e={};for(var r in t)Ot.call(t,r)&&(e[r]=t[r]);return e}function ke(t,e){if(!Re(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(pt(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Ot.call(t,e))return t;var r=Le(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function je(t,e,r){if(!Re(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(pt(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Ot.call(t,e)&&r===t[e])return t;var n=Le(t);return n[e]=r,n}function Be(t,e,r,n){n||(n=r,r=void 0);var i=ze(pt(t),t,Me(e),0,r,n);return i===U?r:i}function ze(t,e,r,n,i,o){var a=e===U;if(n===r.length){var s=a?i:e,u=o(s);return u===s?e:u}if(!a&&!Re(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Pe)+"]: "+e);var c=r[n],l=a?U:Ne(e,c,U),f=ze(l===U?t:pt(l),l,r,n+1,i,o);return f===l?e:f===U?ke(e,c):je(a?t?_r():{}:e,c,f)}function Ue(t,e,r){return Be(t,e,U,(function(){return r}))}function Ge(t,e){return Ue(this,t,e)}function qe(t,e){return Be(t,e,(function(){return U}))}function $e(t){return qe(this,t)}function Ve(t,e,r,n){return Be(t,[e],r,n)}function He(t,e,r){return 1===arguments.length?t(this):Ve(this,t,e,r)}function Ke(t,e,r){return Be(this,t,e,r)}function We(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Xe(this,t)}function Je(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return Xe(this,e,t)}function Xe(t,e,r){for(var n=[],i=0;i<e.length;i++){var o=at(e[i]);0!==o.size&&n.push(o)}return 0===n.length?t:0!==t.toSeq().size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var e=r?function(e,n){Ve(t,n,U,(function(t){return t===U?e:r(t,e,n)}))}:function(e,r){t.set(r,e)},i=0;i<n.length;i++)n[i].forEach(e)})):t.constructor(n[0])}function Ye(t,e,r){return Ze(t,e,function(t){function e(r,n,i){return Re(r)&&Re(n)?Ze(r,[n],e):t?t(r,n,i):n}return e}(r))}function Ze(t,e,r){if(!Re(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(pt(t))return"function"==typeof r&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,o=n?st:at,a=n?function(e){i===t&&(i=Le(i)),i.push(e)}:function(e,n){var o=Ot.call(i,n),a=o&&r?r(i[n],e,n):e;o&&a===i[n]||(i===t&&(i=Le(i)),i[n]=a)},s=0;s<e.length;s++)o(e[s]).forEach(a);return i}function Qe(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ye(this,t)}function tr(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ye(this,e,t)}function er(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Be(this,t,_r(),(function(t){return Ze(t,e)}))}function rr(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Be(this,t,_r(),(function(t){return Ye(t,e)}))}function nr(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function ir(){return this.__ownerID?this:this.__ensureOwner(new q)}function or(){return this.__ensureOwner()}function ar(){return this.__altered}ae.prototype.cacheResult=oe.prototype.cacheResult=se.prototype.cacheResult=ue.prototype.cacheResult=De;var sr=function(t){function e(e){return null==e?_r():Ut(e)&&!mt(e)?e:_r().withMutations((function(r){var n=t(e);Fe(n.size),n.forEach((function(t,e){return r.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return _r().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return br(this,t,e)},e.prototype.remove=function(t){return br(this,t,U)},e.prototype.deleteAll=function(t){var e=ot(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):_r()},e.prototype.sort=function(t){return Vr(ye(this,t))},e.prototype.sortBy=function(t,e){return Vr(ye(this,e,t))},e.prototype.map=function(t,e){return this.withMutations((function(r){r.forEach((function(n,i){r.set(i,t.call(e,n,i,r))}))}))},e.prototype.__iterator=function(t,e){return new mr(this,t,e)},e.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],r)}),e),n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?vr(this.size,this._root,t,this.__hash):0===this.size?_r():(this.__ownerID=t,this.__altered=!1,this)},e}(at);sr.isMap=Ut;var ur=sr.prototype;ur[zt]=!0,ur.delete=ur.remove,ur.removeAll=ur.deleteAll,ur.setIn=Ge,ur.removeIn=ur.deleteIn=$e,ur.update=He,ur.updateIn=Ke,ur.merge=ur.concat=We,ur.mergeWith=Je,ur.mergeDeep=Qe,ur.mergeDeepWith=tr,ur.mergeIn=er,ur.mergeDeepIn=rr,ur.withMutations=nr,ur.wasAltered=ar,ur.asImmutable=or,ur["@@transducer/init"]=ur.asMutable=ir,ur["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},ur["@@transducer/result"]=function(t){return t.asImmutable()};var cr=function(t,e){this.ownerID=t,this.entries=e};cr.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if($t(r,i[o][0]))return i[o][1];return n},cr.prototype.update=function(t,e,r,n,i,o,a){for(var s=i===U,u=this.entries,c=0,l=u.length;c<l&&!$t(n,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(G(a),(s||!f)&&G(o),!s||1!==u.length){if(!f&&!s&&u.length>=Or)return function(t,e,r,n){t||(t=new q);for(var i=new pr(t,Kt(r),[r,n]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,u,n,i);var h=t&&t===this.ownerID,p=h?u:Ie(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[n,i]:p.push([n,i]),h?(this.entries=p,this):new cr(t,p)}};var lr=function(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r};lr.prototype.get=function(t,e,r,n){void 0===e&&(e=Kt(r));var i=1<<((0===t?e:e>>>t)&z),o=this.bitmap;return 0==(o&i)?n:this.nodes[Ar(o&i-1)].get(t+5,e,r,n)},lr.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=Kt(n));var s=(0===e?r:r>>>e)&z,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&i===U)return this;var f=Ar(c&u-1),h=this.nodes,p=l?h[f]:void 0,d=wr(p,t,e+5,r,n,i,o,a);if(d===p)return this;if(!l&&d&&h.length>=Ir)return function(t,e,r,n,i){for(var o=0,a=new Array(B),s=0;0!==r;s++,r>>>=1)a[s]=1&r?e[o++]:void 0;return a[n]=i,new fr(t,o+1,a)}(t,h,c,s,d);if(l&&!d&&2===h.length&&Er(h[1^f]))return h[1^f];if(l&&d&&1===h.length&&Er(d))return d;var m=t&&t===this.ownerID,g=l?d?c:c^u:c|u,y=l?d?Dr(h,f,d,m):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,a=0;a<n;a++)a===e&&(o=1),i[a]=t[a+o];return i}(h,f,m):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=r,a=-1):o[s]=t[s+a];return o}(h,f,d,m);return m?(this.bitmap=g,this.nodes=y,this):new lr(t,g,y)};var fr=function(t,e,r){this.ownerID=t,this.count=e,this.nodes=r};fr.prototype.get=function(t,e,r,n){void 0===e&&(e=Kt(r));var i=(0===t?e:e>>>t)&z,o=this.nodes[i];return o?o.get(t+5,e,r,n):n},fr.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=Kt(n));var s=(0===e?r:r>>>e)&z,u=i===U,c=this.nodes,l=c[s];if(u&&!l)return this;var f=wr(l,t,e+5,r,n,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<Tr)return function(t,e,r,n){for(var i=0,o=0,a=new Array(r),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==n&&(i|=u,a[o++]=l)}return new lr(t,i,a)}(t,c,h,s)}else h++;var p=t&&t===this.ownerID,d=Dr(c,s,f,p);return p?(this.count=h,this.nodes=d,this):new fr(t,h,d)};var hr=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r};hr.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if($t(r,i[o][0]))return i[o][1];return n},hr.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=Kt(n));var s=i===U;if(r!==this.keyHash)return s?this:(G(a),G(o),Sr(this,t,e,r,[n,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!$t(n,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(G(a),(s||!f)&&G(o),s&&2===l)return new pr(t,this.keyHash,u[1^c]);var h=t&&t===this.ownerID,p=h?u:Ie(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[n,i]:p.push([n,i]),h?(this.entries=p,this):new hr(t,this.keyHash,p)};var pr=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r};pr.prototype.get=function(t,e,r,n){return $t(r,this.entry[0])?this.entry[1]:n},pr.prototype.update=function(t,e,r,n,i,o,a){var s=i===U,u=$t(n,this.entry[0]);return(u?i===this.entry[1]:s)?this:(G(a),s?void G(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new pr(t,this.keyHash,[n,i]):(G(o),Sr(this,t,e,Kt(n),[n,i])))},cr.prototype.iterate=hr.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},lr.prototype.iterate=fr.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},pr.prototype.iterate=function(t,e){return t(this.entry)};var dr,mr=function(t){function e(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&yr(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this,e=this._type,r=this._stack;r;){var n=r.node,i=r.index++,o=void 0;if(n.entry){if(0===i)return gr(e,n.entry)}else if(n.entries){if(i<=(o=n.entries.length-1))return gr(e,n.entries[t._reverse?o-i:i])}else if(i<=(o=n.nodes.length-1)){var a=n.nodes[t._reverse?o-i:i];if(a){if(a.entry)return gr(e,a.entry);r=t._stack=yr(a,r)}continue}r=t._stack=t._stack.__prev}return{value:void 0,done:!0}},e}(_t);function gr(t,e){return bt(t,e[0],e[1])}function yr(t,e){return{node:t,index:0,__prev:e}}function vr(t,e,r,n){var i=Object.create(ur);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function _r(){return dr||(dr=vr(0))}function br(t,e,r){var n,i;if(t._root){var o={value:!1},a={value:!1};if(n=wr(t._root,t.__ownerID,0,void 0,e,r,o,a),!a.value)return t;i=t.size+(o.value?r===U?-1:1:0)}else{if(r===U)return t;i=1,n=new cr(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?vr(i,n):_r()}function wr(t,e,r,n,i,o,a,s){return t?t.update(e,r,n,i,o,a,s):o===U?t:(G(s),G(a),new pr(e,n,[i,o]))}function Er(t){return t.constructor===pr||t.constructor===hr}function Sr(t,e,r,n,i){if(t.keyHash===n)return new hr(e,n,[t.entry,i]);var o,a=(0===r?t.keyHash:t.keyHash>>>r)&z,s=(0===r?n:n>>>r)&z,u=a===s?[Sr(t,e,r+5,n,i)]:(o=new pr(e,n,i),a<s?[t,o]:[o,t]);return new lr(e,1<<a|1<<s,u)}function Ar(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Dr(t,e,r,n){var i=n?t:Ie(t);return i[e]=r,i}var Or=8,Ir=16,Tr=8,Fr="@@__IMMUTABLE_LIST__@@";function Mr(t){return Boolean(t&&t[Fr])}var Cr=function(t){function e(e){var r=jr();if(null==e)return r;if(Mr(e))return e;var n=t(e),i=n.size;return 0===i?r:(Fe(i),i>0&&i<B?kr(0,i,5,null,new Pr(n.toArray())):r.withMutations((function(t){t.setSize(i),n.forEach((function(e,r){return t.set(r,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=V(this,t))>=0&&t<this.size){var r=Ur(this,t+=this._origin);return r&&r.array[t&z]}return e},e.prototype.set=function(t,e){return function(t,e,r){if((e=V(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Gr(t,e).set(0,r):Gr(t,0,e+1).set(e,r)}));e+=t._origin;var n=t._tail,i=t._root,o={value:!1};e>=qr(t._capacity)?n=Br(n,t.__ownerID,0,e,r,o):i=Br(i,t.__ownerID,t._level,e,r,o);if(!o.value)return t;if(t.__ownerID)return t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t;return kr(t._origin,t._capacity,t._level,i,n)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):jr()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(r){Gr(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])}))},e.prototype.pop=function(){return Gr(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Gr(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])}))},e.prototype.shift=function(){return Gr(this,1)},e.prototype.concat=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++){var i=e[n],o=t("string"!=typeof i&&Et(i)?i:[i]);0!==o.size&&r.push(o)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(t){r.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(r[0])},e.prototype.setSize=function(t){return Gr(this,0,t)},e.prototype.map=function(t,e){var r=this;return this.withMutations((function(n){for(var i=0;i<r.size;i++)n.set(i,t.call(e,n.get(i),i,n))}))},e.prototype.slice=function(t,e){var r=this.size;return K(t,e,r)?this:Gr(this,W(t,r),J(e,r))},e.prototype.__iterator=function(t,e){var r=e?this.size:0,n=Lr(this,e);return new _t((function(){var i=n();return i===Nr?{value:void 0,done:!0}:bt(t,e?--r:r++,i)}))},e.prototype.__iterate=function(t,e){for(var r,n=e?this.size:0,i=Lr(this,e);(r=i())!==Nr&&!1!==t(r,e?--n:n++,this););return n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?kr(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?jr():(this.__ownerID=t,this.__altered=!1,this)},e}(st);Cr.isList=Mr;var Rr=Cr.prototype;Rr[Fr]=!0,Rr.delete=Rr.remove,Rr.merge=Rr.concat,Rr.setIn=Ge,Rr.deleteIn=Rr.removeIn=$e,Rr.update=He,Rr.updateIn=Ke,Rr.mergeIn=er,Rr.mergeDeepIn=rr,Rr.withMutations=nr,Rr.wasAltered=ar,Rr.asImmutable=or,Rr["@@transducer/init"]=Rr.asMutable=ir,Rr["@@transducer/step"]=function(t,e){return t.push(e)},Rr["@@transducer/result"]=function(t){return t.asImmutable()};var Pr=function(t,e){this.array=t,this.ownerID=e};Pr.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&z;if(n>=this.array.length)return new Pr([],t);var i,o=0===n;if(e>0){var a=this.array[n];if((i=a&&a.removeBefore(t,e-5,r))===a&&o)return this}if(o&&!i)return this;var s=zr(this,t);if(!o)for(var u=0;u<n;u++)s.array[u]=void 0;return i&&(s.array[n]=i),s},Pr.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&z;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((n=o&&o.removeAfter(t,e-5,r))===o&&i===this.array.length-1)return this}var a=zr(this,t);return a.array.splice(i+1),n&&(a.array[i]=n),a};var xr,Nr={};function Lr(t,e){var r=t._origin,n=t._capacity,i=qr(n),o=t._tail;return a(t._root,t._level,0);function a(t,s,u){return 0===s?function(t,a){var s=a===i?o&&o.array:t&&t.array,u=a>r?0:r-a,c=n-a;c>B&&(c=B);return function(){if(u===c)return Nr;var t=e?--c:u++;return s&&s[t]}}(t,u):function(t,i,o){var s,u=t&&t.array,c=o>r?0:r-o>>i,l=1+(n-o>>i);l>B&&(l=B);return function(){for(;;){if(s){var t=s();if(t!==Nr)return t;s=null}if(c===l)return Nr;var r=e?--l:c++;s=a(u&&u[r],i-5,o+(r<<i))}}}(t,s,u)}}function kr(t,e,r,n,i,o,a){var s=Object.create(Rr);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function jr(){return xr||(xr=kr(0,0,5))}function Br(t,e,r,n,i,o){var a,s=n>>>r&z,u=t&&s<t.array.length;if(!u&&void 0===i)return t;if(r>0){var c=t&&t.array[s],l=Br(c,e,r-5,n,i,o);return l===c?t:((a=zr(t,e)).array[s]=l,a)}return u&&t.array[s]===i?t:(o&&G(o),a=zr(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function zr(t,e){return e&&t&&e===t.ownerID?t:new Pr(t?t.array.slice():[],e)}function Ur(t,e){if(e>=qr(t._capacity))return t._tail;if(e<1<<t._level+5){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&z],n-=5;return r}}function Gr(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new q,i=t._origin,o=t._capacity,a=i+e,s=void 0===r?o:r<0?o+r:i+r;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new Pr(c&&c.array.length?[void 0,c]:[],n),l+=1<<(u+=5);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=qr(o),h=qr(s);h>=1<<u+5;)c=new Pr(c&&c.array.length?[c]:[],n),u+=5;var p=t._tail,d=h<f?Ur(t,s-1):h>f?new Pr([],n):p;if(p&&h>f&&a<o&&p.array.length){for(var m=c=zr(c,n),g=u;g>5;g-=5){var y=f>>>g&z;m=m.array[y]=zr(m.array[y],n)}m.array[f>>>5&z]=p}if(s<o&&(d=d&&d.removeAfter(n,0,s)),a>=h)a-=h,s-=h,u=5,c=null,d=d&&d.removeBefore(n,0,a);else if(a>i||h<f){for(l=0;c;){var v=a>>>u&z;if(v!==h>>>u&z)break;v&&(l+=(1<<u)*v),u-=5,c=c.array[v]}c&&a>i&&(c=c.removeBefore(n,u,a-l)),c&&h<f&&(c=c.removeAfter(n,u,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):kr(a,s,u,c,d)}function qr(t){return t<B?0:t-1>>>5<<5}var $r,Vr=function(t){function e(t){return null==t?Kr():Gt(t)?t:Kr().withMutations((function(e){var r=at(t);Fe(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Kr()},e.prototype.set=function(t,e){return Wr(this,t,e)},e.prototype.remove=function(t){return Wr(this,t,U)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],r)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?Hr(e,r,t,this.__hash):0===this.size?Kr():(this.__ownerID=t,this._map=e,this._list=r,this)},e}(sr);function Hr(t,e,r,n){var i=Object.create(Vr.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function Kr(){return $r||($r=Hr(_r(),jr()))}function Wr(t,e,r){var n,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(r===U){if(!u)return t;a.size>=B&&a.size>=2*o.size?(n=(i=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(r===a.get(s)[1])return t;n=o,i=a.set(s,[e,r])}else n=o.set(e,a.size),i=a.set(a.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):Hr(n,i)}Vr.isOrderedMap=Gt,Vr.prototype[dt]=!0,Vr.prototype.delete=Vr.prototype.remove;var Jr="@@__IMMUTABLE_STACK__@@";function Xr(t){return Boolean(t&&t[Jr])}var Yr=function(t){function e(t){return null==t?en():Xr(t)?t:en().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var r=this._head;for(t=V(this,t);r&&t--;)r=r.next;return r?r.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:t[n],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):tn(e,r)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&Xr(e))return e;Fe(e.size);var r=this.size,n=this._head;return e.__iterate((function(t){r++,n={value:t,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):tn(r,n)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):en()},e.prototype.slice=function(e,r){if(K(e,r,this.size))return this;var n=W(e,this.size);if(J(r,this.size)!==this.size)return t.prototype.slice.call(this,e,r);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):tn(i,o)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?tn(this.size,this._head,t,this.__hash):0===this.size?en():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var r=this;if(e)return new Rt(this.toArray()).__iterate((function(e,n){return t(e,n,r)}),e);for(var n=0,i=this._head;i&&!1!==t(i.value,n++,r);)i=i.next;return n},e.prototype.__iterator=function(t,e){if(e)return new Rt(this.toArray()).__iterator(t,e);var r=0,n=this._head;return new _t((function(){if(n){var e=n.value;return n=n.next,bt(t,r++,e)}return{value:void 0,done:!0}}))},e}(st);Yr.isStack=Xr;var Zr,Qr=Yr.prototype;function tn(t,e,r,n){var i=Object.create(Qr);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function en(){return Zr||(Zr=tn(0))}Qr[Jr]=!0,Qr.shift=Qr.pop,Qr.unshift=Qr.push,Qr.unshiftAll=Qr.pushAll,Qr.withMutations=nr,Qr.wasAltered=ar,Qr.asImmutable=or,Qr["@@transducer/init"]=Qr.asMutable=ir,Qr["@@transducer/step"]=function(t,e){return t.unshift(e)},Qr["@@transducer/result"]=function(t){return t.asImmutable()};var rn="@@__IMMUTABLE_SET__@@";function nn(t){return Boolean(t&&t[rn])}function on(t){return nn(t)&&mt(t)}function an(t,e){if(t===e)return!0;if(!Q(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||et(t)!==et(e)||nt(t)!==nt(e)||mt(t)!==mt(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!it(t);if(mt(t)){var n=t.entries();return e.every((function(t,e){var i=n.next().value;return i&&$t(i[1],t)&&(r||$t(i[0],e))}))&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var a=!0,s=e.__iterate((function(e,n){if(r?!t.has(e):i?!$t(e,t.get(n,U)):!$t(t.get(n,U),e))return a=!1,!1}));return a&&t.size===s}function sn(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function un(t){if(!t||"object"!=typeof t)return t;if(!Q(t)){if(!Re(t))return t;t=Tt(t)}if(et(t)){var e={};return t.__iterate((function(t,r){e[r]=un(t)})),e}var r=[];return t.__iterate((function(t){r.push(un(t))})),r}var cn=function(t){function e(e){return null==e?dn():nn(e)&&!mt(e)?e:dn().withMutations((function(r){var n=t(e);Fe(n.size),n.forEach((function(t){return r.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(at(t).keySeq())},e.intersect=function(t){return(t=ot(t).toArray()).length?fn.intersect.apply(e(t.pop()),t):dn()},e.union=function(t){return(t=ot(t).toArray()).length?fn.union.apply(e(t.pop()),t):dn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return hn(this,this._map.set(t,t))},e.prototype.remove=function(t){return hn(this,this._map.remove(t))},e.prototype.clear=function(){return hn(this,this._map.clear())},e.prototype.map=function(t,e){var r=this;return hn(this,this._map.map((function(e){return t(e,e,r)}),e))},e.prototype.union=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(r){for(var n=0;n<e.length;n++)t(e[n]).forEach((function(t){return r.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return Rn(ye(this,t))},e.prototype.sortBy=function(t,e){return Rn(ye(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate((function(e){return t(e,e,r)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(ut);cn.isSet=nn;var ln,fn=cn.prototype;function hn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function pn(t,e){var r=Object.create(fn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function dn(){return ln||(ln=pn(_r()))}fn[rn]=!0,fn.delete=fn.remove,fn.merge=fn.concat=fn.union,fn.withMutations=nr,fn.asImmutable=or,fn["@@transducer/init"]=fn.asMutable=ir,fn["@@transducer/step"]=function(t,e){return t.add(e)},fn["@@transducer/result"]=function(t){return t.asImmutable()},fn.__empty=dn,fn.__make=pn;var mn,gn=function(t){function e(t,r,n){if(!(this instanceof e))return new e(t,r,n);if(Te(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<t&&(n=-n),this._start=t,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-t)/n-1)+1),0===this.size){if(mn)return mn;mn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+V(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,r){return K(t,r,this.size)?this:(t=W(t,this.size),(r=J(r,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(r,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var r=this.size,n=this._step,i=e?this._start+(r-1)*n:this._start,o=0;o!==r&&!1!==t(i,e?r-++o:o++,this);)i+=e?-n:n;return o},e.prototype.__iterator=function(t,e){var r=this.size,n=this._step,i=e?this._start+(r-1)*n:this._start,o=0;return new _t((function(){if(o===r)return{value:void 0,done:!0};var a=i;return i+=e?-n:n,bt(t,e?r-++o:o++,a)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:an(this,t)},e}(Mt);function yn(t,e,r){for(var n=Me(e),i=0;i!==n.length;)if((t=Ne(t,n[i++],U))===U)return r;return t}function vn(t,e){return yn(this,t,e)}function _n(t,e){return yn(t,e,U)!==U}function bn(){Fe(this.size);var t={};return this.__iterate((function(e,r){t[r]=e})),t}ot.isIterable=Q,ot.isKeyed=et,ot.isIndexed=nt,ot.isAssociative=it,ot.isOrdered=mt,ot.Iterator=_t,sn(ot,{toArray:function(){Fe(this.size);var t=new Array(this.size||0),e=et(this),r=0;return this.__iterate((function(n,i){t[r++]=e?[i,n]:n})),t},toIndexedSeq:function(){return new ae(this)},toJS:function(){return un(this)},toKeyedSeq:function(){return new oe(this,!0)},toMap:function(){return sr(this.toKeyedSeq())},toObject:bn,toOrderedMap:function(){return Vr(this.toKeyedSeq())},toOrderedSet:function(){return Rn(et(this)?this.valueSeq():this)},toSet:function(){return cn(et(this)?this.valueSeq():this)},toSetSeq:function(){return new se(this)},toSeq:function(){return nt(this)?this.toIndexedSeq():et(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Yr(et(this)?this.valueSeq():this)},toList:function(){return Cr(et(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return we(this,me(this,t))},includes:function(t){return this.some((function(e){return $t(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Fe(this.size);var r=!0;return this.__iterate((function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1})),r},filter:function(t,e){return we(this,he(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return Fe(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Fe(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate((function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return we(this,le(this,t,e))},reduce:function(t,e,r){return An(this,t,e,r,arguments.length<2,!1)},reduceRight:function(t,e,r){return An(this,t,e,r,arguments.length<2,!0)},reverse:function(){return we(this,fe(this,!0))},slice:function(t,e){return we(this,pe(this,t,e,!0))},some:function(t,e){return!this.every(In(t),e)},sort:function(t){return we(this,ye(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return $(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var n=sr().asMutable();return t.__iterate((function(i,o){n.update(e.call(r,i,o,t),0,(function(t){return t+1}))})),n.asImmutable()}(this,t,e)},equals:function(t){return an(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Rt(t._cache);var e=t.toSeq().map(On).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(In(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate((function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1})),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(H,null,t)},flatMap:function(t,e){return we(this,function(t,e,r){var n=Se(t);return t.toSeq().map((function(i,o){return n(e.call(r,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return we(this,ge(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find((function(e,r){return $t(r,t)}),void 0,e)},getIn:vn,groupBy:function(t,e){return function(t,e,r){var n=et(t),i=(mt(t)?Vr():sr()).asMutable();t.__iterate((function(o,a){i.update(e.call(r,o,a,t),(function(t){return(t=t||[]).push(n?[a,o]:o),t}))}));var o=Se(t);return i.map((function(e){return we(t,o(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,U)!==U},hasIn:function(t){return _n(this,t)},isSubset:function(t){return t="function"==typeof t.includes?t:ot(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:ot(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return $t(e,t)}))},keySeq:function(){return this.toSeq().map(Dn).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return ve(this,t)},maxBy:function(t,e){return ve(this,e,t)},min:function(t){return ve(this,t?Tn(t):Mn)},minBy:function(t,e){return ve(this,e?Tn(e):Mn,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return we(this,de(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(In(t),e)},sortBy:function(t,e){return we(this,ye(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return we(this,function(t,e,r){var n=Ae(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return t.__iterate((function(t,i,s){return e.call(r,t,i,s)&&++a&&n(t,i,o)})),a},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=t.__iterator(2,i),s=!0;return new _t((function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(r,c,u,o)?2===n?t:bt(n,u,c,t):(s=!1,{value:void 0,done:!0})}))},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(In(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=mt(t),r=et(t),n=e?1:0;return function(t,e){return e=Vt(e,3432918353),e=Vt(e<<15|e>>>-15,461845907),e=Vt(e<<13|e>>>-13,5),e=Vt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Ht((e=Vt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(r?e?function(t,e){n=31*n+Cn(Kt(t),Kt(e))|0}:function(t,e){n=n+Cn(Kt(t),Kt(e))|0}:e?function(t){n=31*n+Kt(t)|0}:function(t){n=n+Kt(t)|0}),n)}(this))}});var wn=ot.prototype;wn[Z]=!0,wn[vt]=wn.values,wn.toJSON=wn.toArray,wn.__toStringMapper=Pe,wn.inspect=wn.toSource=function(){return this.toString()},wn.chain=wn.flatMap,wn.contains=wn.includes,sn(at,{flip:function(){return we(this,ce(this))},mapEntries:function(t,e){var r=this,n=0;return we(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],n++,r)})).fromEntrySeq())},mapKeys:function(t,e){var r=this;return we(this,this.toSeq().flip().map((function(n,i){return t.call(e,n,i,r)})).flip())}});var En=at.prototype;En[tt]=!0,En[vt]=wn.entries,En.toJSON=bn,En.__toStringMapper=function(t,e){return Pe(e)+": "+Pe(t)},sn(st,{toKeyedSeq:function(){return new oe(this,!1)},filter:function(t,e){return we(this,he(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return we(this,fe(this,!1))},slice:function(t,e){return we(this,pe(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(e||0,0),0===r||2===r&&!e)return this;t=W(t,t<0?this.count():this.size);var n=this.slice(0,t);return we(this,1===r?n:n.concat(Ie(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return we(this,ge(this,t,!1))},get:function(t,e){return(t=V(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,r){return r===t}),void 0,e)},has:function(t){return(t=V(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return we(this,function(t,e){var r=Ae(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate((function(t){return(!o||!1!==r(e,o++,i))&&!1!==r(t,o++,i)}),n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(1,n),a=0;return new _t((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?bt(r,a++,e):bt(r,a++,i.value,i)}))},r}(this,t))},interleave:function(){var t=[this].concat(Ie(arguments)),e=be(this.toSeq(),Mt.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),we(this,r)},keySeq:function(){return gn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return we(this,de(this,t,e,!1))},zip:function(){var t=[this].concat(Ie(arguments));return we(this,be(this,Fn,t))},zipAll:function(){var t=[this].concat(Ie(arguments));return we(this,be(this,Fn,t,!0))},zipWith:function(t){var e=Ie(arguments);return e[0]=this,we(this,be(this,t,e))}});var Sn=st.prototype;function An(t,e,r,n,i,o){return Fe(t.size),t.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)}),o),r}function Dn(t,e){return e}function On(t,e){return[e,t]}function In(t){return function(){return!t.apply(this,arguments)}}function Tn(t){return function(){return-t.apply(this,arguments)}}function Fn(){return Ie(arguments)}function Mn(t,e){return t<e?1:t>e?-1:0}function Cn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Sn[rt]=!0,Sn[dt]=!0,sn(ut,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),ut.prototype.has=wn.includes,ut.prototype.contains=ut.prototype.includes,sn(Ft,at.prototype),sn(Mt,st.prototype),sn(Ct,ut.prototype);var Rn=function(t){function e(t){return null==t?Ln():on(t)?t:Ln().withMutations((function(e){var r=ut(t);Fe(r.size),r.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(at(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(cn);Rn.isOrderedSet=on;var Pn,xn=Rn.prototype;function Nn(t,e){var r=Object.create(xn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Ln(){return Pn||(Pn=Nn(Kr()))}xn[dt]=!0,xn.zip=Sn.zip,xn.zipWith=Sn.zipWith,xn.__empty=Ln,xn.__make=Nn;var kn=function(t,e){var r,n=function(o){var a=this;if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var s=Object.keys(t),u=i._indices={};i._name=e,i._keys=s,i._defaultValues=t;for(var c=0;c<s.length;c++){var l=s[c];u[l]=c,i[l]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+zn(a)+\' with property "\'+l+\'" since that property name is part of the Record API.\'):Gn(i,l)}}this.__ownerID=void 0,this._values=Cr().withMutations((function(t){t.setSize(a._keys.length),at(o).forEach((function(e,r){t.set(a._indices[r],e===a._defaultValues[r]?void 0:e)}))}))},i=n.prototype=Object.create(jn);return i.constructor=n,n};kn.prototype.toString=function(){for(var t,e=zn(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)e+=(n?", ":"")+(t=r[n])+": "+Pe(this.get(t));return e+" }"},kn.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&Un(this).equals(Un(t))},kn.prototype.hashCode=function(){return Un(this).hashCode()},kn.prototype.has=function(t){return this._indices.hasOwnProperty(t)},kn.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._indices[t],n=this._values.get(r);return void 0===n?this._defaultValues[t]:n},kn.prototype.set=function(t,e){if(this.has(t)){var r=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(r!==this._values&&!this.__ownerID)return Bn(this,r)}return this},kn.prototype.remove=function(t){return this.set(t)},kn.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Bn(this,t)},kn.prototype.wasAltered=function(){return this._values.wasAltered()},kn.prototype.toSeq=function(){return Un(this)},kn.prototype.toJS=function(){return un(this)},kn.prototype.entries=function(){return this.__iterator(2)},kn.prototype.__iterator=function(t,e){return Un(this).__iterator(t,e)},kn.prototype.__iterate=function(t,e){return Un(this).__iterate(t,e)},kn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?Bn(this,e,t):(this.__ownerID=t,this._values=e,this)},kn.isRecord=ht,kn.getDescriptiveName=zn;var jn=kn.prototype;function Bn(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function zn(t){return t._name||t.constructor.name||"Record"}function Un(t){return kt(t._keys.map((function(e){return[e,t.get(e)]})))}function Gn(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Te(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}jn[ft]=!0,jn.delete=jn.remove,jn.deleteIn=jn.removeIn=$e,jn.getIn=vn,jn.hasIn=wn.hasIn,jn.merge=We,jn.mergeWith=Je,jn.mergeIn=er,jn.mergeDeep=Qe,jn.mergeDeepWith=tr,jn.mergeDeepIn=rr,jn.setIn=Ge,jn.update=He,jn.updateIn=Ke,jn.withMutations=nr,jn.asMutable=ir,jn.asImmutable=or,jn[vt]=jn.entries,jn.toJSON=jn.toObject=wn.toObject,jn.inspect=jn.toSource=function(){return this.toString()};var qn;!function(t){function e(t,r){if(!(this instanceof e))return new e(t,r);if(this._value=t,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(qn)return qn;qn=this}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(t,e){return this.has(t)?this._value:e},e.prototype.includes=function(t){return $t(this._value,t)},e.prototype.slice=function(t,r){var n=this.size;return K(t,r,n)?this:new e(this._value,J(r,n)-W(t,n))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(t){return $t(this._value,t)?0:-1},e.prototype.lastIndexOf=function(t){return $t(this._value,t)?this.size:-1},e.prototype.__iterate=function(t,e){for(var r=this.size,n=0;n!==r&&!1!==t(this._value,e?r-++n:n++,this););return n},e.prototype.__iterator=function(t,e){var r=this,n=this.size,i=0;return new _t((function(){return i===n?{value:void 0,done:!0}:bt(t,e?n-++i:i++,r._value)}))},e.prototype.equals=function(t){return t instanceof e?$t(this._value,t._value):an(t)}}(Mt);class $n extends(kn({r:0,g:0,b:0})){static BLACK=new $n({r:0,g:0,b:0});static GREY=new $n({r:128,g:128,b:128});static WHITE=new $n({r:255,g:255,b:255});static DARK_BLUE=new $n({r:36,g:131,b:199});static RED=new $n({r:248,g:36,b:0});static PURPLE=new $n({r:255,g:0,b:255});static PINK=new $n({r:255,g:114,b:147});static GREEN=new $n({r:110,g:176,b:0});static ORANGE=new $n({r:243,g:149,b:0});static YELLOW=new $n({r:255,g:255,b:0});static LIGHT_BLUE=new $n({r:141,g:184,b:255});static LIGHT_RED=new $n({r:247,g:141,b:138});static LIGHT_GREEN=new $n({r:162,g:250,b:123});static LIGHT_YELLOW=new $n({r:252,g:238,b:124});static BLUE=new $n({r:34,g:147,b:251});static fromHex=t=>new $n({r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)});lighter(t){o("number"==typeof t&&t>=0&&t<=100,"Invalid `percent` value. Must be 0-100.");const e=255*t/100;let r=parseInt(this.r+e),n=parseInt(this.g+e),i=parseInt(this.b+e);return r=r<255?r:255,n=n<255?n:255,i=i<255?i:255,new $n({r,g:n,b:i})}darker(t){o("number"==typeof t&&t>=0&&t<=100,"Invalid `percent` value. Must be 0-100.");const e=255*t/100;let r=parseInt(this.r-e),n=parseInt(this.g-e),i=parseInt(this.b-e);return r=r>0?r:0,n=n>0?n:0,i=i>0?i:0,new $n({r,g:n,b:i})}equals(t){return o(t instanceof $n||"object"==typeof t,"Invalid `color` provided. It must be an instance of Color or an RGB object."),o("number"==typeof t.r&&t.r>=0&&t.r<=255,"Invalid `r` value provided. It must be an integer between 0 and 255."),o("number"==typeof t.g&&t.g>=0&&t.g<=255,"Invalid `g` value provided. It must be an integer between 0 and 255."),o("number"==typeof t.b&&t.b>=0&&t.b<=255,"Invalid `b` value provided. It must be an integer between 0 and 255."),this.r===t.r&&this.g===t.g&&this.b===t.b}saturate(t){o("number"==typeof t&&t>=0&&t<=100,"Invalid `percent` value. Must be 0-100.");const e=t/100,r=.3086*this.r+.6094*this.g+.082*this.b;return new $n({r:Math.round(this.r*e+r*(1-e)),g:Math.round(this.g*e+r*(1-e)),b:Math.round(this.b*e+r*(1-e))})}sRGBToRGBComponent(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}relativeLuminance(){const{r:t,g:e,b:r}={r:this.r/255,g:this.g/255,b:this.b/255},{R:n,G:i,B:o}={R:this.sRGBToRGBComponent(t),G:this.sRGBToRGBComponent(e),B:this.sRGBToRGBComponent(r)};return.2126*n+.7152*i+.0722*o}contrastRatio(t){return(this.relativeLuminance()+.05)/(t.relativeLuminance()+.05)}toCSSValue(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){let t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),"#"+t+e+r}}const Vn=[{color:$n.RED,localization:{id:"red",defaultMessage:"Red",description:"Red color"}},{color:$n.ORANGE,localization:{id:"orange",defaultMessage:"Orange",description:"Orange color"}},{color:$n.YELLOW,localization:{id:"yellow",defaultMessage:"Yellow",description:"Yellow color"}},{color:$n.GREEN,localization:{id:"green",defaultMessage:"Green",description:"Green color"}},{color:$n.DARK_BLUE,localization:{id:"darkBlue",defaultMessage:"Dark blue",description:"Dark blue color"}},{color:$n.BLUE,localization:{id:"blue",defaultMessage:"Blue",description:"Blue color"}},{color:$n.PURPLE,localization:{id:"purple",defaultMessage:"Purple",description:"Purple color"}},{color:$n.PINK,localization:{id:"pink",defaultMessage:"Pink",description:"Pink color"}},{color:new $n({r:255,g:139,b:94}),localization:{id:"lightOrange",defaultMessage:"Light Orange",description:"Light Orange color"}},{color:$n.LIGHT_YELLOW,localization:{id:"lightYellow",defaultMessage:"Light Yellow",description:"Light Yellow color"}},{color:$n.LIGHT_GREEN,localization:{id:"lightGreen",defaultMessage:"Light Green",description:"Light Green color"}},{color:$n.LIGHT_BLUE,localization:{id:"lightBlue",defaultMessage:"Light Blue",description:"Light Blue color"}},{color:new $n({r:245,g:135,b:255}),localization:{id:"mauve",defaultMessage:"Mauve",description:"Mauve color"}},{color:null,localization:{id:"transparent",defaultMessage:"Transparent",description:"Transparent"}},{color:$n.WHITE,localization:{id:"white",defaultMessage:"White",description:"White color"}},{color:new $n({r:192,g:192,b:192}),localization:{id:"lightGrey",defaultMessage:"Light Grey",description:"Light Grey color"}},{color:$n.GREY,localization:{id:"grey",defaultMessage:"Grey",description:"Grey color"}},{color:new $n({r:64,g:64,b:64}),localization:{id:"darkGrey",defaultMessage:"Dark Grey",description:"Dark Grey color"}},{color:$n.BLACK,localization:{id:"black",defaultMessage:"Black",description:"Black color"}}];function Hn(t){const e=t.defaultValues||{},r=t.prototype;r._defaultValues={...r._defaultValues||{},...e};const n=Object.keys(r._defaultValues);r._keys=n,r._indices={};for(let t=0;t<n.length;t++){const e=n[t];r._indices[e]=t}n.forEach((t=>{Object.defineProperty(r,t,{get(){return this.get(t)},set(e){this.set(t,e)}})}))}class Kn extends(kn({})){}class Wn extends Kn{static defaultValues={x:0,y:0};constructor(t){super(t)}scale(t,e){return this.withMutations((r=>{e||(e=t),r.set("x",this.x*t).set("y",this.y*e)}))}translate(t){let{x:e,y:r}=t;return this.withMutations((t=>{t.set("x",this.x+e).set("y",this.y+r)}))}translateX(t){return this.translate(new Wn({x:t,y:0}))}translateY(t){return this.translate(new Wn({x:0,y:t}))}distance(t){return Math.sqrt((t.x-this.x)**2+(t.y-this.y)**2)}rotate(t){o(t%90==0,"Only multiples of 90° allowed."),t%=360;const{x:e,y:r}=this;switch(t){case 0:return this;case 90:return this.set("x",r).set("y",-e);case 180:return this.set("x",-e).set("y",-r);case 270:return this.set("x",-r).set("y",e);default:throw new Error("Unsupported rotation")}}apply(t){const[e,r]=t.applyToVector([this.x,this.y]);return this.withMutations((t=>{t.set("x",e).set("y",r)}))}}Hn(Wn);const Jn=Wn;class Xn extends Jn{static defaultValues={...Jn.defaultValues,intensity:.5};constructor(t){super(t)}}Hn(Xn);class Yn extends(kn({width:0,height:0})){scale(t){return this.withMutations((e=>{e.set("width",this.width*t).set("height",this.height*t)}))}ceil(){return this.withMutations((t=>{t.set("width",Math.ceil(this.width)).set("height",Math.ceil(this.height))}))}floor(){return this.withMutations((t=>{t.set("width",Math.floor(this.width)).set("height",Math.floor(this.height))}))}swapDimensions(){return this.withMutations((t=>{t.set("width",this.height).set("height",this.width)}))}apply(t){const[e,r]=t.applyToSize([this.width,this.height]);return this.withMutations((t=>{t.set("width",Math.abs(e)).set("height",Math.abs(r))}))}}class Zn extends Kn{static defaultValues={left:0,top:0,width:0,height:0};constructor(t){super(t)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}static fromClientRect(t){let{top:e,left:r,width:n,height:i}=t;return new Zn({top:e,left:r,width:n,height:i})}static union(t){const e=t.map((t=>t.top)).min(),r=t.map((t=>t.bottom)).max()-e,n=t.map((t=>t.left)).min(),i=t.map((t=>t.right)).max()-n;return new Zn({left:n,top:e,width:i,height:r})}static getCenteredRect(t,e){return new Zn({left:(e.width-t.width)/2,top:(e.height-t.height)/2,width:t.width,height:t.height})}static fromInset(t){return new Zn({left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top})}translate(t){let{x:e,y:r}=t;return this.withMutations((t=>{t.set("left",this.left+e).set("top",this.top+r)}))}translateX(t){return this.set("left",this.left+t)}translateY(t){return this.set("top",this.top+t)}scale(t,e){return this.withMutations((r=>{e||(e=t),r.set("left",this.left*t).set("top",this.top*e).set("width",this.width*t).set("height",this.height*e)}))}grow(t){return this.withMutations((e=>{e.set("left",this.left-t).set("top",this.top-t).set("width",this.width+2*t).set("height",this.height+2*t)}))}getLocation(){return new Jn({x:this.left,y:this.top})}getSize(){return new Yn({width:this.width,height:this.height})}getCenter(){return new Jn({x:this.left+this.width/2,y:this.top+this.height/2})}setLocation(t){return this.withMutations((e=>{e.set("left",t.x).set("top",t.y)}))}roundOverlap(){return this.withMutations((t=>{t.set("left",Math.floor(this.left)).set("top",Math.floor(this.top)).set("width",Math.ceil(this.width)).set("height",Math.ceil(this.height))}))}round(){return this.withMutations((t=>{t.set("left",Math.round(this.left)).set("top",Math.round(this.top)).set("width",Math.round(this.width)).set("height",Math.round(this.height))}))}isPointInside(t){return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom}isRectInside(t){return this.isPointInside(t.getLocation())&&this.isPointInside(t.getLocation().translate(new Jn({x:t.width,y:t.height})))}isRectOverlapping(t){return t.left<this.right&&t.right>this.left&&t.top<this.bottom&&t.bottom>this.top}normalize(){return this.withMutations((t=>t.set("left",this.width<0?this.left+this.width:this.left).set("top",this.height<0?this.top+this.height:this.top).set("width",Math.abs(this.width)).set("height",Math.abs(this.height))))}apply(t){const[e,r]=t.applyToVector([this.left,this.top]),[n,i]=t.applyToSize([this.width,this.height]);return this.withMutations((t=>t.set("left",e).set("top",r).set("width",n).set("height",i))).normalize()}}Hn(Zn);const Qn=Zn;class ti extends Kn{static defaultValues={a:1,b:0,c:0,d:0,e:1,f:0};static IDENTITY=new ti;translate(t){let{x:e,y:r}=t;return this.transform(1,0,e,0,1,r)}translateX(t){return this.translate({x:t,y:0})}translateY(t){return this.translate({x:0,y:t})}scale(t,e){return e||(e=t),this.transform(t,0,0,0,e,0)}transform(t,e,r,n,i,o){const{a,b:s,c:u,d:c,e:l,f}=this;return this.withMutations((h=>h.set("a",t*a+e*c).set("b",t*s+e*l).set("c",t*u+e*f+r).set("d",n*a+i*c).set("e",n*s+i*l).set("f",n*u+i*f+o)))}rotate(t){o(t%90==0,"Only multiples of 90° allowed.");const e=(360-t)*Math.PI/180,r=Math.cos(e),n=Math.sin(e);return this.transform(r,-n,0,n,r,0)}inverse(){const{a:t,b:e,c:r,d:n,e:i,f:o}=this,a=t*i-e*n;return this.withMutations((s=>s.set("a",i/a).set("b",-e/a).set("c",-(i*r-e*o)/a).set("d",-n/a).set("e",t/a).set("f",-(-r*n+t*o)/a)))}toCssValue(){const{a:t,b:e,c:r,d:n,e:i,f:o}=this;return`matrix(${t.toFixed(2)}, ${n.toFixed(2)}, ${e.toFixed(2)}, ${i.toFixed(2)}, ${r.toFixed(2)}, ${o.toFixed(2)})`}applyToVector(t){let[e,r]=t;const{a:n,b:i,c:o,d:a,e:s,f:u}=this;return[n*e+i*r+o,a*e+s*r+u]}applyToSize(t){let[e,r]=t;const n=this.applyToVector([0,0]),i=this.applyToVector([e,r]);return[i[0]-n[0],i[1]-n[1]]}}Hn(ti);kn({left:0,top:0,right:0,bottom:0});class ei extends Kn{static defaultValues={id:null,name:null,subject:null,pdfObjectId:null,pageIndex:null,boundingBox:new Qn,opacity:1,action:null,note:null,creatorName:null,createdAt:new Date(0),updatedAt:new Date(0),customData:null,noPrint:!1,noZoom:!1,noRotate:!1,noView:!1,hidden:!1,blendMode:"normal",additionalActions:null,isCommentThreadRoot:!1,group:void 0,isEditable:void 0,isDeletable:void 0,canSetGroup:void 0,canReply:void 0,APStreamCache:void 0};constructor(t){if(super(t),this.constructor===ei)throw new i("PSPDFKit.Annotations.Annotation is an abstract base class and can not be instantiated")}}Hn(ei);const ri=ei,ni="COMMENT",ii={[ni]:"comment",["RIGHT_POINTER"]:"rightPointer",["RIGHT_ARROW"]:"rightArrow",["CHECK"]:"check",["CIRCLE"]:"circle",["CROSS"]:"cross",["INSERT"]:"insert",["NEW_PARAGRAPH"]:"newParagraph",["NOTE"]:"note",["PARAGRAPH"]:"paragraph",["HELP"]:"help",["STAR"]:"star",["KEY"]:"key"};Object.keys(ii).reduce(((t,e)=>(t[ii[e]]=e,t)),{});var oi;const ai=[{color:new $n({r:255,g:216,b:63}),localization:{id:"yellow",defaultMessage:"Yellow",description:"Yellow color"}},{color:new $n({r:255,g:127,b:0}),localization:{id:"orange",defaultMessage:"Orange",description:"Orange, the color"}},{color:new $n({r:255,g:51,b:0}),localization:{id:"red",defaultMessage:"Red",description:"Red, the color"}},{color:new $n({r:229,g:51,b:255}),localization:{id:"fuchsia",defaultMessage:"Fuchsia",description:"Fuchsia, the color"}},{color:new $n({r:0,g:153,b:255}),localization:{id:"blue",defaultMessage:"Blue",description:"Blue, the color"}},{color:new $n({r:114,g:255,b:0}),localization:{id:"green",defaultMessage:"Green",description:"Green, the color"}}];class si extends ri{static isEditable=!0;static readableName="Note";static defaultValues={text:"",icon:ni,color:null===(oi=ai.find((t=>"yellow"===t.localization.id)))||void 0===oi?void 0:oi.color};constructor(t){super(t)}}Hn(si);var ui=function(t,e){return(ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function ci(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}ui(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var li=function(){return(li=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function fi(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}Object.create;function hi(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||e)}Object.create;var pi=r(7294);r(8679);["angle-degree","area-acre","area-hectare","concentr-percent","digital-bit","digital-byte","digital-gigabit","digital-gigabyte","digital-kilobit","digital-kilobyte","digital-megabit","digital-megabyte","digital-petabyte","digital-terabit","digital-terabyte","duration-day","duration-hour","duration-millisecond","duration-minute","duration-month","duration-second","duration-week","duration-year","length-centimeter","length-foot","length-inch","length-kilometer","length-meter","length-mile-scandinavian","length-mile","length-millimeter","length-yard","mass-gram","mass-kilogram","mass-ounce","mass-pound","mass-stone","temperature-celsius","temperature-fahrenheit","volume-fluid-ounce","volume-gallon","volume-liter","volume-milliliter"].map((function(t){return t.slice(t.indexOf("-")+1)}));function di(t,e,r){if(void 0===r&&(r=Error),!t)throw new r(e)}var mi=/[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20BF\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B97-\\u2BFF\\u2CE5-\\u2CEA\\u2E50\\u2E51\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uAB6A\\uAB6B\\uFB29\\uFBB2-\\uFBC1\\uFDFC\\uFDFD\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9C\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDE8\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD0D-\\uDDAD\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED7\\uDEE0-\\uDEEC\\uDEF0-\\uDEFC\\uDF00-\\uDF73\\uDF80-\\uDFD8\\uDFE0-\\uDFEB]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDCB0\\uDCB1\\uDD00-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6\\uDF00-\\uDF92\\uDF94-\\uDFCA]/;new RegExp("^"+mi.source),new RegExp(mi.source+"$");var gi,yi,vi,_i;!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="MISSING_LOCALE_DATA",e}ci(e,t)}(Error);function bi(t){return t.type===vi.literal}function wi(t){return t.type===vi.argument}function Ei(t){return t.type===vi.number}function Si(t){return t.type===vi.date}function Ai(t){return t.type===vi.time}function Di(t){return t.type===vi.select}function Oi(t){return t.type===vi.plural}function Ii(t){return t.type===vi.pound}function Ti(t){return t.type===vi.tag}function Fi(t){return!(!t||"object"!=typeof t||t.type!==_i.number)}function Mi(t){return!(!t||"object"!=typeof t||t.type!==_i.dateTime)}!function(t){t.startRange="startRange",t.shared="shared",t.endRange="endRange"}(gi||(gi={})),function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(yi||(yi={})),function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"}(vi||(vi={})),function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"}(_i||(_i={}));var Ci=/[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/,Ri=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^\']*\'[^\']*\')*[^\']*$)/g;function Pi(t){var e={};return t.replace(Ri,(function(t){var r=t.length;switch(t[0]){case"G":e.era=4===r?"long":5===r?"narrow":"short";break;case"y":e.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),e}var xi=/[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;var Ni,Li=/^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g,ki=/^(@+)?(\\+|#+)?$/g,ji=/(\\*)(0+)|(#+)(0+)|(0+)/g,Bi=/^(0+)$/;function zi(t){var e={};return t.replace(ki,(function(t,r,n){return"string"!=typeof n?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):"+"===n?e.minimumSignificantDigits=r.length:"#"===r[0]?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),e}function Ui(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Gi(t){var e;if("E"===t[0]&&"E"===t[1]?(e={notation:"engineering"},t=t.slice(2)):"E"===t[0]&&(e={notation:"scientific"},t=t.slice(1)),e){var r=t.slice(0,2);if("+!"===r?(e.signDisplay="always",t=t.slice(2)):"+?"===r&&(e.signDisplay="exceptZero",t=t.slice(2)),!Bi.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function qi(t){var e=Ui(t);return e||{}}function $i(t){for(var e={},r=0,n=t;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=li(li(li({},e),{notation:"scientific"}),i.options.reduce((function(t,e){return li(li({},t),qi(e))}),{}));continue;case"engineering":e=li(li(li({},e),{notation:"engineering"}),i.options.reduce((function(t,e){return li(li({},t),qi(e))}),{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(ji,(function(t,r,n,i,o,a){if(r)e.minimumIntegerDigits=n.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Bi.test(i.stem))e.minimumIntegerDigits=i.stem.length;else if(Li.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Li,(function(t,r,n,i,o,a){return"*"===n?e.minimumFractionDigits=r.length:i&&"#"===i[0]?e.maximumFractionDigits=i.length:o&&a?(e.minimumFractionDigits=o.length,e.maximumFractionDigits=o.length+a.length):(e.minimumFractionDigits=r.length,e.maximumFractionDigits=r.length),""})),i.options.length&&(e=li(li({},e),zi(i.options[0])))}else if(ki.test(i.stem))e=li(li({},e),zi(i.stem));else{var o=Ui(i.stem);o&&(e=li(li({},e),o));var a=Gi(i.stem);a&&(e=li(li({},e),a))}}return e}var Vi=new RegExp("^"+Ci.source+"*"),Hi=new RegExp(Ci.source+"*$");function Ki(t,e){return{start:t,end:e}}var Wi=!!String.prototype.startsWith,Ji=!!String.fromCodePoint,Xi=!!Object.fromEntries,Yi=!!String.prototype.codePointAt,Zi=!!String.prototype.trimStart,Qi=!!String.prototype.trimEnd,to=!!Number.isSafeInteger?Number.isSafeInteger:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},eo=!0;try{eo="a"===(null===(Ni=co("([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===Ni?void 0:Ni[0])}catch(t){eo=!1}var ro,no=Wi?function(t,e,r){return t.startsWith(e,r)}:function(t,e,r){return t.slice(r,r+e.length)===e},io=Ji?String.fromCodePoint:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r,n="",i=t.length,o=0;i>o;){if((r=t[o++])>1114111)throw RangeError(r+" is not a valid code point");n+=r<65536?String.fromCharCode(r):String.fromCharCode(55296+((r-=65536)>>10),r%1024+56320)}return n},oo=Xi?Object.fromEntries:function(t){for(var e={},r=0,n=t;r<n.length;r++){var i=n[r],o=i[0],a=i[1];e[o]=a}return e},ao=Yi?function(t,e){return t.codePointAt(e)}:function(t,e){var r=t.length;if(!(e<0||e>=r)){var n,i=t.charCodeAt(e);return i<55296||i>56319||e+1===r||(n=t.charCodeAt(e+1))<56320||n>57343?i:n-56320+(i-55296<<10)+65536}},so=Zi?function(t){return t.trimStart()}:function(t){return t.replace(Vi,"")},uo=Qi?function(t){return t.trimEnd()}:function(t){return t.replace(Hi,"")};function co(t,e){return new RegExp(t,e)}if(eo){var lo=co("([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)","yu");ro=function(t,e){var r;return lo.lastIndex=e,null!==(r=lo.exec(t)[1])&&void 0!==r?r:""}}else ro=function(t,e){for(var r=[];;){var n=ao(t,e);if(void 0===n||po(n)||mo(n))break;r.push(n),e+=n>=65536?2:1}return io.apply(void 0,r)};var fo=function(){function t(t,e){void 0===e&&(e={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!e.ignoreTag,this.requiresOtherClause=!!e.requiresOtherClause,this.shouldParseSkeletons=!!e.shouldParseSkeletons}return t.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(t,e,r){for(var n=[];!this.isEOF();){var i=this.char();if(123===i){if((o=this.parseArgument(t,r)).err)return o;n.push(o.val)}else{if(125===i&&t>0)break;if(35!==i||"plural"!==e&&"selectordinal"!==e){if(60===i&&!this.ignoreTag&&47===this.peek()){if(r)break;return this.error(yi.UNMATCHED_CLOSING_TAG,Ki(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&ho(this.peek()||0)){if((o=this.parseTag(t,e)).err)return o;n.push(o.val)}else{var o;if((o=this.parseLiteral(t,e)).err)return o;n.push(o.val)}}else{var a=this.clonePosition();this.bump(),n.push({type:vi.pound,location:Ki(a,this.clonePosition())})}}}return{val:n,err:null}},t.prototype.parseTag=function(t,e){var r=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:vi.literal,value:"<"+n+"/>",location:Ki(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(t+1,e,!0);if(i.err)return i;var o=i.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!ho(this.char()))return this.error(yi.INVALID_TAG,Ki(a,this.clonePosition()));var s=this.clonePosition();return n!==this.parseTagName()?this.error(yi.UNMATCHED_CLOSING_TAG,Ki(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:vi.tag,value:n,children:o,location:Ki(r,this.clonePosition())},err:null}:this.error(yi.INVALID_TAG,Ki(a,this.clonePosition())))}return this.error(yi.UNCLOSED_TAG,Ki(r,this.clonePosition()))}return this.error(yi.INVALID_TAG,Ki(r,this.clonePosition()))},t.prototype.parseTagName=function(){var t,e=this.offset();for(this.bump();!this.isEOF()&&(45===(t=this.char())||46===t||t>=48&&t<=57||95===t||t>=97&&t<=122||t>=65&&t<=90||183==t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039);)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(t,e){for(var r=this.clonePosition(),n="";;){var i=this.tryParseQuote(e);if(i)n+=i;else{var o=this.tryParseUnquoted(t,e);if(o)n+=o;else{var a=this.tryParseLeftAngleBracket();if(!a)break;n+=a}}}var s=Ki(r,this.clonePosition());return{val:{type:vi.literal,value:n,location:s},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(ho(t=this.peek()||0)||47===t)?null:(this.bump(),"<");var t},t.prototype.tryParseQuote=function(t){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"\'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===t||"selectordinal"===t)break;return null;default:return null}this.bump();var e=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(39===r){if(39!==this.peek()){this.bump();break}e.push(39),this.bump()}else e.push(r);this.bump()}return io.apply(void 0,e)},t.prototype.tryParseUnquoted=function(t,e){if(this.isEOF())return null;var r=this.char();return 60===r||123===r||35===r&&("plural"===e||"selectordinal"===e)||125===r&&t>0?null:(this.bump(),io(r))},t.prototype.parseArgument=function(t,e){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(yi.EXPECT_ARGUMENT_CLOSING_BRACE,Ki(r,this.clonePosition()));if(125===this.char())return this.bump(),this.error(yi.EMPTY_ARGUMENT,Ki(r,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(yi.MALFORMED_ARGUMENT,Ki(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(yi.EXPECT_ARGUMENT_CLOSING_BRACE,Ki(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:vi.argument,value:n,location:Ki(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(yi.EXPECT_ARGUMENT_CLOSING_BRACE,Ki(r,this.clonePosition())):this.parseArgumentOptions(t,e,n,r);default:return this.error(yi.MALFORMED_ARGUMENT,Ki(r,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),e=this.offset(),r=ro(this.message,e),n=e+r.length;return this.bumpTo(n),{value:r,location:Ki(t,this.clonePosition())}},t.prototype.parseArgumentOptions=function(t,e,r,n){var i,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,s=this.clonePosition();switch(a){case"":return this.error(yi.EXPECT_ARGUMENT_TYPE,Ki(o,s));case"number":case"date":case"time":this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((g=this.parseSimpleArgStyleIfPossible()).err)return g;if(0===(h=uo(g.val)).length)return this.error(yi.EXPECT_ARGUMENT_STYLE,Ki(this.clonePosition(),this.clonePosition()));u={style:h,styleLocation:Ki(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(n)).err)return y;var l=Ki(n,this.clonePosition());if(u&&no(null==u?void 0:u.style,"::",0)){var f=so(u.style.slice(2));if("number"===a)return(g=this.parseNumberSkeletonFromString(f,u.styleLocation)).err?g:{val:{type:vi.number,value:r,location:l,style:g.val},err:null};if(0===f.length)return this.error(yi.EXPECT_DATE_TIME_SKELETON,l);var h={type:_i.dateTime,pattern:f,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?Pi(f):{}};return{val:{type:"date"===a?vi.date:vi.time,value:r,location:l,style:h},err:null}}return{val:{type:"number"===a?vi.number:"date"===a?vi.date:vi.time,value:r,location:l,style:null!==(i=null==u?void 0:u.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var p=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(yi.EXPECT_SELECT_ARGUMENT_OPTIONS,Ki(p,li({},p)));this.bumpSpace();var d=this.parseIdentifierIfPossible(),m=0;if("select"!==a&&"offset"===d.value){if(!this.bumpIf(":"))return this.error(yi.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ki(this.clonePosition(),this.clonePosition()));var g;if(this.bumpSpace(),(g=this.tryParseDecimalInteger(yi.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,yi.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return g;this.bumpSpace(),d=this.parseIdentifierIfPossible(),m=g.val}var y,v=this.tryParsePluralOrSelectOptions(t,a,e,d);if(v.err)return v;if((y=this.tryParseArgumentClose(n)).err)return y;var _=Ki(n,this.clonePosition());return"select"===a?{val:{type:vi.select,value:r,options:oo(v.val),location:_},err:null}:{val:{type:vi.plural,value:r,options:oo(v.val),offset:m,pluralType:"plural"===a?"cardinal":"ordinal",location:_},err:null};default:return this.error(yi.INVALID_ARGUMENT_TYPE,Ki(o,s))}},t.prototype.tryParseArgumentClose=function(t){return this.isEOF()||125!==this.char()?this.error(yi.EXPECT_ARGUMENT_CLOSING_BRACE,Ki(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,e=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("\'"))return this.error(yi.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Ki(r,this.clonePosition()));this.bump();break;case 123:t+=1,this.bump();break;case 125:if(!(t>0))return{val:this.message.slice(e.offset,this.offset()),err:null};t-=1;break;default:this.bump()}}return{val:this.message.slice(e.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(t,e){var r=[];try{r=function(t){if(0===t.length)throw new Error("Number skeleton cannot be empty");for(var e=[],r=0,n=t.split(xi).filter((function(t){return t.length>0}));r<n.length;r++){var i=n[r].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var o=i[0],a=i.slice(1),s=0,u=a;s<u.length;s++)if(0===u[s].length)throw new Error("Invalid number skeleton");e.push({stem:o,options:a})}return e}(t)}catch(t){return this.error(yi.INVALID_NUMBER_SKELETON,e)}return{val:{type:_i.number,tokens:r,location:e,parsedOptions:this.shouldParseSkeletons?$i(r):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(t,e,r,n){for(var i,o=!1,a=[],s=new Set,u=n.value,c=n.location;;){if(0===u.length){var l=this.clonePosition();if("select"===e||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(yi.EXPECT_PLURAL_ARGUMENT_SELECTOR,yi.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;c=Ki(l,this.clonePosition()),u=this.message.slice(l.offset,this.offset())}if(s.has(u))return this.error("select"===e?yi.DUPLICATE_SELECT_ARGUMENT_SELECTOR:yi.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===u&&(o=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===e?yi.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:yi.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Ki(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(t+1,e,r);if(p.err)return p;var d=this.tryParseArgumentClose(h);if(d.err)return d;a.push([u,{value:p.val,location:Ki(h,this.clonePosition())}]),s.add(u),this.bumpSpace(),u=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===a.length?this.error("select"===e?yi.EXPECT_SELECT_ARGUMENT_SELECTOR:yi.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ki(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(yi.MISSING_OTHER_CLAUSE,Ki(this.clonePosition(),this.clonePosition())):{val:a,err:null}},t.prototype.tryParseDecimalInteger=function(t,e){var r=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var i=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;i=!0,o=10*o+(a-48),this.bump()}var s=Ki(n,this.clonePosition());return i?to(o*=r)?{val:o,err:null}:this.error(e,s):this.error(t,s)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var e=ao(this.message,t);if(void 0===e)throw Error("Offset "+t+" is at invalid UTF-16 code unit boundary");return e},t.prototype.error=function(t,e){return{val:null,err:{kind:t,message:this.message,location:e}}},t.prototype.bump=function(){if(!this.isEOF()){var t=this.char();10===t?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},t.prototype.bumpIf=function(t){if(no(this.message,t,this.offset())){for(var e=0;e<t.length;e++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(t){var e=this.offset(),r=this.message.indexOf(t,e);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset "+t+" must be greater than or equal to the current offset "+this.offset());for(t=Math.min(t,this.message.length);;){var e=this.offset();if(e===t)break;if(e>t)throw Error("targetOffset "+t+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&po(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),e=this.offset(),r=this.message.charCodeAt(e+(t>=65536?2:1));return null!=r?r:null},t}();function ho(t){return t>=97&&t<=122||t>=65&&t<=90}function po(t){return t>=9&&t<=13||32===t||133===t||t>=8206&&t<=8207||8232===t||8233===t}function mo(t){return t>=33&&t<=35||36===t||t>=37&&t<=39||40===t||41===t||42===t||43===t||44===t||45===t||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||91===t||92===t||93===t||94===t||96===t||123===t||124===t||125===t||126===t||161===t||t>=162&&t<=165||166===t||167===t||169===t||171===t||172===t||174===t||176===t||177===t||182===t||187===t||191===t||215===t||247===t||t>=8208&&t<=8213||t>=8214&&t<=8215||8216===t||8217===t||8218===t||t>=8219&&t<=8220||8221===t||8222===t||8223===t||t>=8224&&t<=8231||t>=8240&&t<=8248||8249===t||8250===t||t>=8251&&t<=8254||t>=8257&&t<=8259||8260===t||8261===t||8262===t||t>=8263&&t<=8273||8274===t||8275===t||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||8608===t||t>=8609&&t<=8610||8611===t||t>=8612&&t<=8613||8614===t||t>=8615&&t<=8621||8622===t||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||8658===t||8659===t||8660===t||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||8968===t||8969===t||8970===t||8971===t||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||9001===t||9002===t||t>=9003&&t<=9083||9084===t||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||9655===t||t>=9656&&t<=9664||9665===t||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||9839===t||t>=9840&&t<=10087||10088===t||10089===t||10090===t||10091===t||10092===t||10093===t||10094===t||10095===t||10096===t||10097===t||10098===t||10099===t||10100===t||10101===t||t>=10132&&t<=10175||t>=10176&&t<=10180||10181===t||10182===t||t>=10183&&t<=10213||10214===t||10215===t||10216===t||10217===t||10218===t||10219===t||10220===t||10221===t||10222===t||10223===t||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||10627===t||10628===t||10629===t||10630===t||10631===t||10632===t||10633===t||10634===t||10635===t||10636===t||10637===t||10638===t||10639===t||10640===t||10641===t||10642===t||10643===t||10644===t||10645===t||10646===t||10647===t||10648===t||t>=10649&&t<=10711||10712===t||10713===t||10714===t||10715===t||t>=10716&&t<=10747||10748===t||10749===t||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||11158===t||t>=11159&&t<=11263||t>=11776&&t<=11777||11778===t||11779===t||11780===t||11781===t||t>=11782&&t<=11784||11785===t||11786===t||11787===t||11788===t||11789===t||t>=11790&&t<=11798||11799===t||t>=11800&&t<=11801||11802===t||11803===t||11804===t||11805===t||t>=11806&&t<=11807||11808===t||11809===t||11810===t||11811===t||11812===t||11813===t||11814===t||11815===t||11816===t||11817===t||t>=11818&&t<=11822||11823===t||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||11840===t||11841===t||11842===t||t>=11843&&t<=11855||t>=11856&&t<=11857||11858===t||t>=11859&&t<=11903||t>=12289&&t<=12291||12296===t||12297===t||12298===t||12299===t||12300===t||12301===t||12302===t||12303===t||12304===t||12305===t||t>=12306&&t<=12307||12308===t||12309===t||12310===t||12311===t||12312===t||12313===t||12314===t||12315===t||12316===t||12317===t||t>=12318&&t<=12319||12320===t||12336===t||64830===t||64831===t||t>=65093&&t<=65094}function go(t){t.forEach((function(t){if(delete t.location,Di(t)||Oi(t))for(var e in t.options)delete t.options[e].location,go(t.options[e].value);else Ei(t)&&Fi(t.style)||(Si(t)||Ai(t))&&Mi(t.style)?delete t.style.location:Ti(t)&&go(t.children)}))}function yo(t,e){void 0===e&&(e={}),e=li({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var r=new fo(t,e).parse();if(r.err){var n=SyntaxError(yi[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return(null==e?void 0:e.captureLocation)||go(r.val),r.val}function vo(t,e){var r=e&&e.cache?e.cache:Oo,n=e&&e.serializer?e.serializer:So;return(e&&e.strategy?e.strategy:Eo)(t,{cache:r,serializer:n})}function _o(t,e,r,n){var i,o=null==(i=n)||"number"==typeof i||"boolean"==typeof i?n:r(n),a=e.get(o);return void 0===a&&(a=t.call(this,n),e.set(o,a)),a}function bo(t,e,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),o=e.get(i);return void 0===o&&(o=t.apply(this,n),e.set(i,o)),o}function wo(t,e,r,n,i){return r.bind(e,t,n,i)}function Eo(t,e){return wo(t,this,1===t.length?_o:bo,e.cache.create(),e.serializer)}var So=function(){return JSON.stringify(arguments)};function Ao(){this.cache=Object.create(null)}Ao.prototype.has=function(t){return t in this.cache},Ao.prototype.get=function(t){return this.cache[t]},Ao.prototype.set=function(t,e){this.cache[t]=e};var Do,Oo={create:function(){return new Ao}},Io={variadic:function(t,e){return wo(t,this,bo,e.cache.create(),e.serializer)},monadic:function(t,e){return wo(t,this,_o,e.cache.create(),e.serializer)}};!function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"}(Do||(Do={}));var To,Fo=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.code=r,i.originalMessage=n,i}return ci(e,t),e.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},e}(Error),Mo=function(t){function e(e,r,n,i){return t.call(this,\'Invalid values for "\'+e+\'": "\'+r+\'". Options are "\'+Object.keys(n).join(\'", "\')+\'"\',Do.INVALID_VALUE,i)||this}return ci(e,t),e}(Fo),Co=function(t){function e(e,r,n){return t.call(this,\'Value for "\'+e+\'" must be of type \'+r,Do.INVALID_VALUE,n)||this}return ci(e,t),e}(Fo),Ro=function(t){function e(e,r){return t.call(this,\'The intl string context variable "\'+e+\'" was not provided to the string "\'+r+\'"\',Do.MISSING_VALUE,r)||this}return ci(e,t),e}(Fo);function Po(t){return"function"==typeof t}function xo(t,e,r,n,i,o,a){if(1===t.length&&bi(t[0]))return[{type:To.literal,value:t[0].value}];for(var s=[],u=0,c=t;u<c.length;u++){var l=c[u];if(bi(l))s.push({type:To.literal,value:l.value});else if(Ii(l))"number"==typeof o&&s.push({type:To.literal,value:r.getNumberFormat(e).format(o)});else{var f=l.value;if(!i||!(f in i))throw new Ro(f,a);var h=i[f];if(wi(l))h&&"string"!=typeof h&&"number"!=typeof h||(h="string"==typeof h||"number"==typeof h?String(h):""),s.push({type:"string"==typeof h?To.literal:To.object,value:h});else if(Si(l)){var p="string"==typeof l.style?n.date[l.style]:Mi(l.style)?l.style.parsedOptions:void 0;s.push({type:To.literal,value:r.getDateTimeFormat(e,p).format(h)})}else if(Ai(l)){p="string"==typeof l.style?n.time[l.style]:Mi(l.style)?l.style.parsedOptions:void 0;s.push({type:To.literal,value:r.getDateTimeFormat(e,p).format(h)})}else if(Ei(l)){(p="string"==typeof l.style?n.number[l.style]:Fi(l.style)?l.style.parsedOptions:void 0)&&p.scale&&(h*=p.scale||1),s.push({type:To.literal,value:r.getNumberFormat(e,p).format(h)})}else{if(Ti(l)){var d=l.children,m=l.value,g=i[m];if(!Po(g))throw new Co(m,"function",a);var y=g(xo(d,e,r,n,i,o).map((function(t){return t.value})));Array.isArray(y)||(y=[y]),s.push.apply(s,y.map((function(t){return{type:"string"==typeof t?To.literal:To.object,value:t}})))}if(Di(l)){if(!(v=l.options[h]||l.options.other))throw new Mo(l.value,h,Object.keys(l.options),a);s.push.apply(s,xo(v.value,e,r,n,i))}else if(Oi(l)){var v;if(!(v=l.options["="+h])){if(!Intl.PluralRules)throw new Fo(\'Intl.PluralRules is not available in this environment.\\nTry polyfilling it using "@formatjs/intl-pluralrules"\\n\',Do.MISSING_INTL_API,a);var _=r.getPluralRules(e,{type:l.pluralType}).select(h-(l.offset||0));v=l.options[_]||l.options.other}if(!v)throw new Mo(l.value,h,Object.keys(l.options),a);s.push.apply(s,xo(v.value,e,r,n,i,h-(l.offset||0)))}else;}}}return function(t){return t.length<2?t:t.reduce((function(t,e){var r=t[t.length-1];return r&&r.type===To.literal&&e.type===To.literal?r.value+=e.value:t.push(e),t}),[])}(s)}function No(t,e){return e?Object.keys(t).reduce((function(r,n){var i,o;return r[n]=(i=t[n],(o=e[n])?li(li(li({},i||{}),o||{}),Object.keys(i).reduce((function(t,e){return t[e]=li(li({},i[e]),o[e]||{}),t}),{})):i),r}),li({},t)):t}function Lo(t){return{create:function(){return{has:function(e){return e in t},get:function(e){return t[e]},set:function(e,r){t[e]=r}}}}}!function(t){t[t.literal=0]="literal",t[t.object=1]="object"}(To||(To={}));var ko=function(){function t(e,r,n,i){var o,a=this;if(void 0===r&&(r=t.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(t){var e=a.formatToParts(t);if(1===e.length)return e[0].value;var r=e.reduce((function(t,e){return t.length&&e.type===To.literal&&"string"==typeof t[t.length-1]?t[t.length-1]+=e.value:t.push(e.value),t}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(t){return xo(a.ast,a.locales,a.formatters,a.formats,t,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof e){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e,{ignoreTag:null==i?void 0:i.ignoreTag})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=No(t.formats,n),this.locales=r,this.formatters=i&&i.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:vo((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,hi([void 0],e)))}),{cache:Lo(o.number),strategy:Io.variadic}),getDateTimeFormat:vo((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,hi([void 0],e)))}),{cache:Lo(o.dateTime),strategy:Io.variadic}),getPluralRules:vo((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,hi([void 0],e)))}),{cache:Lo(o.pluralRules),strategy:Io.variadic})})}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.__parse=yo,t.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}();var jo;!function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"}(jo||(jo={}));var Bo=function(t){function e(r,n,i){var o=t.call(this,"[@formatjs/intl Error "+r+"] "+n+" \\n"+(i?"\\n"+i.message+"\\n"+i.stack:""))||this;return o.code=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,e),o}return ci(e,t),e}(Error),zo=function(t){function e(e,r){return t.call(this,jo.UNSUPPORTED_FORMATTER,e,r)||this}return ci(e,t),e}(Bo),Uo=function(t){function e(e,r){return t.call(this,jo.INVALID_CONFIG,e,r)||this}return ci(e,t),e}(Bo),Go=function(t){function e(e,r){return t.call(this,jo.MISSING_DATA,e,r)||this}return ci(e,t),e}(Bo),qo=function(t){function e(e,r,n,i){var o=t.call(this,jo.FORMAT_ERROR,e+" \\nLocale: "+r+"\\nMessageID: "+(null==n?void 0:n.id)+"\\nDefault Message: "+(null==n?void 0:n.defaultMessage)+"\\nDescription: "+(null==n?void 0:n.description)+" \\n",i)||this;return o.descriptor=n,o}return ci(e,t),e}(Bo),$o=function(t){function e(e,r){var n=t.call(this,jo.MISSING_TRANSLATION,\'Missing message: "\'+e.id+\'" for locale "\'+r+\'", using \'+(e.defaultMessage?"default message":"id")+" as fallback.")||this;return n.descriptor=e,n}return ci(e,t),e}(Bo);function Vo(t,e,r){return void 0===r&&(r={}),e.reduce((function(e,n){return n in t?e[n]=t[n]:n in r&&(e[n]=r[n]),e}),{})}var Ho={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},onError:function(t){0}};function Ko(t){return{create:function(){return{has:function(e){return e in t},get:function(e){return t[e]},set:function(e,r){t[e]=r}}}}}function Wo(t,e,r,n){var i,o=t&&t[e];if(o&&(i=o[r]),i)return i;n(new zo("No "+e+" format named: "+r))}function Jo(t,e){return Object.keys(t).reduce((function(r,n){return r[n]=li({timeZone:e},t[n]),r}),{})}function Xo(t,e){return Object.keys(li(li({},t),e)).reduce((function(r,n){return r[n]=li(li({},t[n]||{}),e[n]||{}),r}),{})}function Yo(t,e){if(!e)return t;var r=ko.formats;return li(li(li({},r),t),{date:Xo(Jo(r.date,e),Jo(t.date||{},e)),time:Xo(Jo(r.time,e),Jo(t.time||{},e))})}function Zo(t,e,r,n,i){var o=t.locale,a=t.formats,s=t.messages,u=t.defaultLocale,c=t.defaultFormats,l=t.onError,f=t.timeZone,h=t.defaultRichTextElements;void 0===r&&(r={id:""});var p=r.id,d=r.defaultMessage;di(!!p,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\\nto autofix this issue");var m=String(p),g=s&&Object.prototype.hasOwnProperty.call(s,m)&&s[m];if(Array.isArray(g)&&1===g.length&&g[0].type===vi.literal)return g[0].value;if(!n&&g&&"string"==typeof g&&!h)return g.replace(/\'\\{(.*?)\\}\'/gi,"{$1}");if(n=li(li({},h),n||{}),a=Yo(a,f),c=Yo(c,f),!g){if((!d||o&&o.toLowerCase()!==u.toLowerCase())&&l(new $o(r,o)),d)try{return e.getMessageFormat(d,u,c,i).format(n)}catch(t){return l(new qo(\'Error formatting default message for: "\'+m+\'", rendering default message verbatim\',o,r,t)),"string"==typeof d?d:m}return m}try{return e.getMessageFormat(g,o,a,li({formatters:e},i||{})).format(n)}catch(t){l(new qo(\'Error formatting message: "\'+m+\'", using \'+(d?"default message":"id")+" as fallback.",o,r,t))}if(d)try{return e.getMessageFormat(d,u,c,i).format(n)}catch(t){l(new qo(\'Error formatting the default message for: "\'+m+\'", rendering message verbatim\',o,r,t))}return"string"==typeof g?g:"string"==typeof d?d:m}var Qo=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function ta(t,e,r,n){var i=t.locale,o=t.formats,a=t.onError,s=t.timeZone;void 0===n&&(n={});var u=n.format,c=li(li({},s&&{timeZone:s}),u&&Wo(o,e,u,a)),l=Vo(n,Qo,c);return"time"!==e||l.hour||l.minute||l.second||l.timeStyle||l.dateStyle||(l=li(li({},l),{hour:"numeric",minute:"numeric"})),r(i,l)}function ea(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return ta(t,"date",e,a).format(s)}catch(e){t.onError(new Bo(jo.FORMAT_ERROR,"Error formatting date.",e))}return String(s)}function ra(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return ta(t,"time",e,a).format(s)}catch(e){t.onError(new Bo(jo.FORMAT_ERROR,"Error formatting time.",e))}return String(s)}function na(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=r[2],s=void 0===a?{}:a,u=t.timeZone,c=t.locale,l=t.onError,f=Vo(s,Qo,u?{timeZone:u}:{});try{return e(c,f).formatRange(i,o)}catch(t){l(new Bo(jo.FORMAT_ERROR,"Error formatting date time range.",t))}return String(i)}function ia(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return ta(t,"date",e,a).formatToParts(s)}catch(e){t.onError(new Bo(jo.FORMAT_ERROR,"Error formatting date.",e))}return[]}function oa(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return ta(t,"time",e,a).formatToParts(s)}catch(e){t.onError(new Bo(jo.FORMAT_ERROR,"Error formatting time.",e))}return[]}var aa=["localeMatcher","style","type","fallback"];function sa(t,e,r,n){var i=t.locale,o=t.onError;Intl.DisplayNames||o(new Fo(\'Intl.DisplayNames is not available in this environment.\\nTry polyfilling it using "@formatjs/intl-displaynames"\\n\',Do.MISSING_INTL_API));var a=Vo(n,aa);try{return e(i,a).of(r)}catch(t){o(new Bo(jo.FORMAT_ERROR,"Error formatting display name.",t))}}var ua=["localeMatcher","type","style"],ca=Date.now();function la(t,e,r,n){void 0===n&&(n={});var i=fa(t,e,r,n).reduce((function(t,e){var r=e.value;return"string"!=typeof r?t.push(r):"string"==typeof t[t.length-1]?t[t.length-1]+=r:t.push(r),t}),[]);return 1===i.length?i[0]:i}function fa(t,e,r,n){var i=t.locale,o=t.onError;void 0===n&&(n={}),Intl.ListFormat||o(new Fo(\'Intl.ListFormat is not available in this environment.\\nTry polyfilling it using "@formatjs/intl-listformat"\\n\',Do.MISSING_INTL_API));var a=Vo(n,ua);try{var s={},u=r.map((function(t,e){if("object"==typeof t){var r=function(t){return ca+"_"+t+"_"+ca}(e);return s[r]=t,r}return String(t)}));return e(i,a).formatToParts(u).map((function(t){return"literal"===t.type?t:li(li({},t),{value:s[t.value]||t.value})}))}catch(t){o(new Bo(jo.FORMAT_ERROR,"Error formatting list.",t))}return r}var ha=["localeMatcher","type"];function pa(t,e,r,n){var i=t.locale,o=t.onError;void 0===n&&(n={}),Intl.PluralRules||o(new Fo(\'Intl.PluralRules is not available in this environment.\\nTry polyfilling it using "@formatjs/intl-pluralrules"\\n\',Do.MISSING_INTL_API));var a=Vo(n,ha);try{return e(i,a).select(r)}catch(t){o(new qo("Error formatting plural.",t))}return"other"}var da=["numeric","style"];function ma(t,e,r,n,i){void 0===i&&(i={}),n||(n="second"),Intl.RelativeTimeFormat||t.onError(new Fo(\'Intl.RelativeTimeFormat is not available in this environment.\\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\\n\',Do.MISSING_INTL_API));try{return function(t,e,r){var n=t.locale,i=t.formats,o=t.onError;void 0===r&&(r={});var a=r.format,s=!!a&&Wo(i,"relative",a,o)||{};return e(n,Vo(r,da,s))}(t,e,i).format(r,n)}catch(e){t.onError(new qo("Error formatting relative time.",e))}return String(r)}var ga=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function ya(t,e,r){var n=t.locale,i=t.formats,o=t.onError;void 0===r&&(r={});var a=r.format,s=a&&Wo(i,"number",a,o)||{};return e(n,Vo(r,ga,s))}function va(t,e,r,n){void 0===n&&(n={});try{return ya(t,e,n).format(r)}catch(e){t.onError(new Bo(jo.FORMAT_ERROR,"Error formatting number.",e))}return String(r)}function _a(t,e,r,n){void 0===n&&(n={});try{return ya(t,e,n).formatToParts(r)}catch(e){t.onError(new Bo(jo.FORMAT_ERROR,"Error formatting number.",e))}return[]}function ba(t){t.defaultRichTextElements&&function(t){return"string"==typeof(t?t[Object.keys(t)[0]]:void 0)}(t.messages||{})&&console.warn(\'[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \\nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\\nFor more details see https://formatjs.io/docs/getting-started/message-distribution\')}function wa(t,e){var r=function(t){void 0===t&&(t={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var e=Intl.RelativeTimeFormat,r=Intl.ListFormat,n=Intl.DisplayNames,i=vo((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,hi([void 0],e)))}),{cache:Ko(t.dateTime),strategy:Io.variadic}),o=vo((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,hi([void 0],e)))}),{cache:Ko(t.number),strategy:Io.variadic}),a=vo((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,hi([void 0],e)))}),{cache:Ko(t.pluralRules),strategy:Io.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:vo((function(t,e,r,n){return new ko(t,e,r,li({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:a}},n||{}))}),{cache:Ko(t.message),strategy:Io.variadic}),getRelativeTimeFormat:vo((function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new(e.bind.apply(e,hi([void 0],t)))}),{cache:Ko(t.relativeTime),strategy:Io.variadic}),getPluralRules:a,getListFormat:vo((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(r.bind.apply(r,hi([void 0],t)))}),{cache:Ko(t.list),strategy:Io.variadic}),getDisplayNames:vo((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(n.bind.apply(n,hi([void 0],t)))}),{cache:Ko(t.displayNames),strategy:Io.variadic})}}(e),n=li(li({},Ho),t),i=n.locale,o=n.defaultLocale,a=n.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&a?a(new Go(\'Missing locale data for locale: "\'+i+\'" in Intl.NumberFormat. Using default locale: "\'+o+\'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details\')):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&a&&a(new Go(\'Missing locale data for locale: "\'+i+\'" in Intl.DateTimeFormat. Using default locale: "\'+o+\'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details\')):(a&&a(new Uo(\'"locale" was not configured, using "\'+o+\'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details\')),n.locale=n.defaultLocale||"en"),ba(n),li(li({},n),{formatters:r,formatNumber:va.bind(null,n,r.getNumberFormat),formatNumberToParts:_a.bind(null,n,r.getNumberFormat),formatRelativeTime:ma.bind(null,n,r.getRelativeTimeFormat),formatDate:ea.bind(null,n,r.getDateTimeFormat),formatDateToParts:ia.bind(null,n,r.getDateTimeFormat),formatTime:ra.bind(null,n,r.getDateTimeFormat),formatDateTimeRange:na.bind(null,n,r.getDateTimeFormat),formatTimeToParts:oa.bind(null,n,r.getDateTimeFormat),formatPlural:pa.bind(null,n,r.getPluralRules),formatMessage:Zo.bind(null,n,r),formatList:la.bind(null,n,r.getListFormat),formatListToParts:fa.bind(null,n,r.getListFormat),formatDisplayName:sa.bind(null,n,r.getDisplayNames)})}function Ea(t){di(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var Sa=li(li({},Ho),{textComponent:pi.Fragment});function Aa(t,e){if(t===e)return!0;if(!t||!e)return!1;var r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(var o=0;o<i;o++){var a=r[o];if(t[a]!==e[a]||!Object.prototype.hasOwnProperty.call(e,a))return!1}return!0}var Da,Oa,Ia=pi.createContext(null),Ta=(Ia.Consumer,Ia.Provider),Fa=Ia;function Ma(){var t=pi.useContext(Fa);return Ea(t),t}!function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"}(Da||(Da={})),function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"}(Oa||(Oa={}));var Ca=function(t){var e=Ma(),r=t.value,n=t.children,i=fi(t,["value","children"]);return n(e.formatNumberToParts(r,i))};Ca.displayName="FormattedNumberParts";function Ra(t){var e=function(e){var r=Ma(),n=e.value,i=e.children,o=fi(e,["value","children"]),a="string"==typeof n?new Date(n||0):n;return i("formatDate"===t?r.formatDateToParts(a,o):r.formatTimeToParts(a,o))};return e.displayName=Oa[t],e}function Pa(t){var e=function(e){var r=Ma(),n=e.value,i=e.children,o=fi(e,["value","children"]),a=r[t](n,o);if("function"==typeof i)return i(a);var s=r.textComponent||pi.Fragment;return pi.createElement(s,null,a)};return e.displayName=Da[t],e}function xa(t){return{locale:t.locale,timeZone:t.timeZone,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}function Na(t){return t?Object.keys(t).reduce((function(e,r){var n,i=t[r];return e[r]=Po(i)?(n=i,function(t){return n(pi.Children.toArray(t))}):i,e}),{}):t}Ca.displayName="FormattedNumberParts";var La=function(t,e,r,n){for(var i=[],o=4;o<arguments.length;o++)i[o-4]=arguments[o];var a=Na(n),s=Zo.apply(void 0,hi([t,e,r,a],i));return Array.isArray(s)?pi.Children.toArray(s):s},ka=function(t,e){var r=t.defaultRichTextElements,n=fi(t,["defaultRichTextElements"]),i=Na(r),o=wa(li(li(li({},Sa),n),{defaultRichTextElements:i}),e);return li(li({},o),{formatMessage:La.bind(null,{locale:o.locale,timeZone:o.timeZone,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:i},o.formatters)})};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},e.state={cache:e.cache,intl:ka(xa(e.props),e.cache),prevConfig:xa(e.props)},e}ci(e,t),e.getDerivedStateFromProps=function(t,e){var r=e.prevConfig,n=e.cache,i=xa(t);return Aa(r,i)?null:{intl:ka(i,n),prevConfig:i}},e.prototype.render=function(){return Ea(this.state.intl),pi.createElement(Ta,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=Sa}(pi.PureComponent);var ja=3600;function Ba(t){var e=Math.abs(t);return e<60?"second":e<ja?"minute":e<86400?"hour":"day"}function za(t){switch(t){case"second":return 1;case"minute":return 60;case"hour":return ja;default:return 86400}}var Ua=["second","minute","hour"];function Ga(t){return void 0===t&&(t="second"),Ua.includes(t)}var qa=function(t){var e=Ma(),r=e.formatRelativeTime,n=e.textComponent,i=t.children,o=r(t.value||0,t.unit,fi(t,["children","value","unit"]));return"function"==typeof i?i(o):n?pi.createElement(n,null,o):pi.createElement(pi.Fragment,null,o)},$a=function(t){var e=t.value,r=t.unit,n=t.updateIntervalInSeconds,i=fi(t,["value","unit","updateIntervalInSeconds"]);di(!n||!(!n||!Ga(r)),"Cannot schedule update with unit longer than hour");var o,a=pi.useState(),s=a[0],u=a[1],c=pi.useState(0),l=c[0],f=c[1],h=pi.useState(0),p=h[0],d=h[1];r===s&&e===l||(f(e||0),u(r),d(Ga(r)?function(t,e){if(!t)return 0;switch(e){case"second":return t;case"minute":return 60*t;default:return t*ja}}(e,r):0)),pi.useEffect((function(){function t(){clearTimeout(o)}if(t(),!n||!Ga(r))return t;var e=p-n,i=Ba(e);if("day"===i)return t;var a=za(i),s=e-e%a,u=s>=p?s-a:s,c=Math.abs(u-p);return p!==u&&(o=setTimeout((function(){return d(u)}),1e3*c)),t}),[p,n,r]);var m=e||0,g=r;if(Ga(r)&&"number"==typeof p&&n){var y=za(g=Ba(p));m=Math.round(p/y)}return pi.createElement(qa,li({value:m,unit:g},i))};$a.displayName="FormattedRelativeTime",$a.defaultProps={value:0,unit:"second"};var Va=function(t){var e=Ma(),r=e.formatPlural,n=e.textComponent,i=t.value,o=t.other,a=t.children,s=t[r(i,t)]||o;return"function"==typeof a?a(s):n?pi.createElement(n,null,s):s};Va.defaultProps={type:"cardinal"},Va.displayName="FormattedPlural";function Ha(t,e){var r=t.values,n=fi(t,["values"]),i=e.values,o=fi(e,["values"]);return Aa(i,r)&&Aa(n,o)}function Ka(t){var e=Ma(),r=e.formatMessage,n=e.textComponent,i=void 0===n?pi.Fragment:n,o=t.id,a=t.description,s=t.defaultMessage,u=t.values,c=t.children,l=t.tagName,f=void 0===l?i:l,h=r({id:o,description:a,defaultMessage:s},u,{ignoreTag:t.ignoreTag});return Array.isArray(h)||(h=[h]),"function"==typeof c?c(h):f?pi.createElement(f,null,pi.Children.toArray(h)):pi.createElement(pi.Fragment,null,h)}Ka.displayName="FormattedMessage";var Wa=pi.memo(Ka,Ha);Wa.displayName="MemoizedFormattedMessage";var Ja=function(t){var e=Ma(),r=t.from,n=t.to,i=t.children,o=fi(t,["from","to","children"]),a=e.formatDateTimeRange(r,n,o);if("function"==typeof i)return i(a);var s=e.textComponent||pi.Fragment;return pi.createElement(s,null,a)};Ja.displayName="FormattedDateTimeRange";Pa("formatDate"),Pa("formatTime"),Pa("formatNumber"),Pa("formatList"),Pa("formatDisplayName"),Ra("formatDate"),Ra("formatTime");const Xa={color:{id:"color",defaultMessage:"Color",description:"Color"},fillColor:{id:"fillColor",defaultMessage:"Fill Color",description:"Background color"},newColor:{id:"newColor",defaultMessage:"New Color",description:"New Custom Color"},[$n.BLACK.toCSSValue()]:{id:"black",defaultMessage:"Black",description:"Black, the color"},[$n.WHITE.toCSSValue()]:{id:"white",defaultMessage:"White",description:"White, the color"},[$n.BLUE.toCSSValue()]:{id:"blue",defaultMessage:"Blue",description:"Blue, the color"},[$n.RED.toCSSValue()]:{id:"red",defaultMessage:"Red",description:"Red, the color"},[$n.GREEN.toCSSValue()]:{id:"green",defaultMessage:"Green",description:"Green, the color"},[$n.ORANGE.toCSSValue()]:{id:"orange",defaultMessage:"Orange",description:"Orange, the color"},[$n.LIGHT_BLUE.toCSSValue()]:{id:"lightBlue",defaultMessage:"Light Blue",description:"Light Blue color"},[$n.LIGHT_RED.toCSSValue()]:{id:"lightRed",defaultMessage:"Light Red",description:"Light Red color"},[$n.LIGHT_GREEN.toCSSValue()]:{id:"lightGreen",defaultMessage:"Light Green",description:"Light Green color"},[$n.LIGHT_YELLOW.toCSSValue()]:{id:"yellow",defaultMessage:"Yellow",description:"Yellow color"},opacity:{id:"opacity",defaultMessage:"Opacity",description:"Opacity"},thickness:{id:"thickness",defaultMessage:"Thickness",description:"Thickness of a line"},"linecaps-dasharray":{id:"linecaps-dasharray",defaultMessage:"Line Style",description:"Select line caps and dash pattern of lines"},linestyle:{id:"dasharray",defaultMessage:"Line style",description:"Select line style"},font:{id:"font",defaultMessage:"Font",description:"Font"},fonts:{id:"fonts",defaultMessage:"Fonts",description:"Fonts"},allFonts:{id:"allFonts",defaultMessage:"All Fonts",description:"Used when presenting a list of fonts"},fontFamilyUnsupported:{id:"fontFamilyUnsupported",defaultMessage:"{arg0} (not supported)",description:"Font family (type) is not supported"},alignment:{id:"alignment",defaultMessage:"Alignment",description:"Alignment (left, center, right, top, middle, bottom)"},alignmentRight:{id:"alignmentRight",defaultMessage:"Right",description:"Right alignment"},alignmentLeft:{id:"alignmentLeft",defaultMessage:"Left",description:"Left alignment"},alignmentCenter:{id:"alignmentCenter",defaultMessage:"center",description:"Center alignment"},verticalAlignment:{id:"verticalAlignment",defaultMessage:"Vertical Alignment",description:"Vertical Alignment (top, center, bottom)"},horizontalAlignment:{id:"horizontalAlignment",defaultMessage:"Horizontal Alignment",description:"Horizontal Alignment (left, center, right)"},size:{id:"size",defaultMessage:"Size",description:"Used to label sizes (eg. font)"},numberInPt:{id:"numberInPt",defaultMessage:"{arg0} pt",description:"A number in pt (points). eg. 10pt"},startLineCap:{id:"startLineCap",defaultMessage:"Line Start",description:\'Start line cap marker. eg. "open arrow"\'},strokeDashArray:{id:"strokeDashArray",defaultMessage:"Line Style",description:"Line Style"},endLineCap:{id:"endLineCap",defaultMessage:"Line End",description:\'End line cap marker. eg. "open arrow"\'},edit:{id:"edit",defaultMessage:"Edit",description:"Generic edit label"},save:{id:"save",defaultMessage:"Save",description:"Generic save label"},saveAs:{id:"saveAs",defaultMessage:"Save As...",description:\'Generic "save as" label\'},export:{id:"export",defaultMessage:"Export",description:\'Generic "export" label\'},delete:{id:"delete",defaultMessage:"Delete",description:"Generic delete label"},cancel:{id:"cancel",defaultMessage:"Cancel",description:"Cancel"},ok:{id:"ok",defaultMessage:"OK",description:"Ok, usually used to confirm an action"},close:{id:"close",defaultMessage:"Close",description:\'Generic, usually to close something. "something" can be inferred from the context in which the message appears\'},done:{id:"done",defaultMessage:"Done",description:\'Generic "done" message. Usually used in a button.\'},annotationsCount:{id:"annotationsCount",defaultMessage:"{arg0, plural,\\n      =0 {{arg0} Annotations}\\n      one {{arg0} Annotation}\\n      two {{arg0} Annotations}\\n      other {{arg0} Annotations}\\n    }",description:"Amount of annotations."},annotations:{id:"annotations",defaultMessage:"Annotations",description:"PDF Annotations"},bookmark:{id:"bookmark",defaultMessage:"Bookmark",description:"PDF Bookmark"},bookmarks:{id:"bookmarks",defaultMessage:"Bookmarks",description:"PDF Bookmarks"},annotation:{id:"annotation",defaultMessage:"Annotation",description:"Annotation"},selectedAnnotation:{id:"selectedAnnotation",defaultMessage:"selected {arg0}",description:"Selected Annotation"},selectedAnnotationWithText:{id:"selectedAnnotationWithText",defaultMessage:"Selected {arg0} with {arg1} as content",description:"Selected Text or Note Annotation"},noteAnnotation:{id:"noteAnnotation",defaultMessage:"Note",description:"Text Note Annotation"},comment:{id:"comment",defaultMessage:"Comment",description:"Comment"},commentAction:{id:"commentAction",defaultMessage:"Comment",description:"Comment"},comments:{id:"comments",defaultMessage:"Comments",description:"Comments"},textAnnotation:{id:"textAnnotation",defaultMessage:"Text",description:"Free Text Annotation"},calloutAnnotation:{id:"calloutAnnotation",defaultMessage:"Callout",description:"Free Text Annotation (Callout)"},pen:{id:"pen",defaultMessage:"Drawing",description:"Ink Annotation used to do freehand drawing."},eraser:{id:"eraser",defaultMessage:"Ink Eraser",description:"Ink Eraser tool to remove ink annotations points by hand."},inkAnnotation:{id:"inkAnnotation",defaultMessage:"Drawing",description:"Ink Annotation used to do freehand drawing."},highlighterAnnotation:{id:"highlighterAnnotation",defaultMessage:"Freeform Highlight",description:"Ink Annotation used to highlight content."},highlightAnnotation:{id:"highlightAnnotation",defaultMessage:"Text Highlight",description:"Highlight Annotation used to select and mark text."},underlineAnnotation:{id:"underlineAnnotation",defaultMessage:"Underline",description:"Undeline Annotation used to select and mark text."},squiggleAnnotation:{id:"squiggleAnnotation",defaultMessage:"Squiggle",description:"Squiggle Annotation used to select and mark text."},strikeOutAnnotation:{id:"strikeOutAnnotation",defaultMessage:"Strikethrough",description:"StrikeOut Annotation used to select and mark text."},lineAnnotation:{id:"lineAnnotation",defaultMessage:"Line",description:"Shape Annotation used to draw straight lines."},arrowAnnotation:{id:"arrowAnnotation",defaultMessage:"Arrow",description:"Shape Annotation used to draw an arrow."},rectangleAnnotation:{id:"rectangleAnnotation",defaultMessage:"Rectangle",description:"Shape Annotation used to draw rectangles."},ellipseAnnotation:{id:"ellipseAnnotation",defaultMessage:"Ellipse",description:"Shape Annotation used to draw ellipses."},polygonAnnotation:{id:"polygonAnnotation",defaultMessage:"Polygon",description:"Shape Annotation used to draw polygons."},polylineAnnotation:{id:"polylineAnnotation",defaultMessage:"Polyline",description:"Shape Annotation used to draw polylines."},imageAnnotation:{id:"imageAnnotation",defaultMessage:"Image",description:"Image Annotation"},stampAnnotation:{id:"stampAnnotation",defaultMessage:"Stamp",description:"Stamp Annotation"},redactionAnnotation:{id:"redactionAnnotation",defaultMessage:"Redaction",description:"Redaction Annotation"},arrow:{id:"arrow",defaultMessage:"Line with arrow",description:"Shape Annotation used to draw straight lines with an arrow."},highlighter:{id:"highlighter",defaultMessage:"Freeform Highlight",description:"Ink Annotation used to highlight content with freehand drawing."},icon:{id:"icon",defaultMessage:"Icon",description:"Label for when users need to select an icon"},pageXofY:{id:"pageXofY",defaultMessage:"Page {arg0} of {arg1}",description:"Page indicator."},pageX:{id:"pageX",defaultMessage:"Page {arg0}",description:"Page number"},searchDocument:{id:"searchDocument",defaultMessage:"Search Document",description:"Search document (for text)"},sign:{id:"sign",defaultMessage:"Sign",description:"Label for a signature field"},signed:{id:"signed",defaultMessage:"Signed",description:"Label for a signed field"},signatures:{id:"signatures",defaultMessage:"Signatures",description:"Signatures title"},blendMode:{id:"blendMode",defaultMessage:"Blend Mode",description:"Blend Mode"},linesCount:{id:"linesCount",defaultMessage:"{arg0, plural,\\n      =0 {{arg0} Lines}\\n      one {{arg0} Line}\\n      two {{arg0} Lines}\\n      other {{arg0} Lines}\\n    }",description:"Amount of lines (for example in a ink annotation)."},filePath:{id:"filePath",defaultMessage:"File Path",description:"Location of a file or file name"},useAnExistingStampDesign:{id:"useAnExistingStampDesign",defaultMessage:"Use an existing stamp design",description:"Use an existing stamp design"},customStamp:{id:"customStamp",defaultMessage:"Custom Stamp",description:"Custom Stamp"},stampText:{id:"stampText",defaultMessage:"Stamp Text",description:"Stamp Text"},clear:{id:"clear",defaultMessage:"Clear",description:"Clear"},date:{id:"date",defaultMessage:"Date",description:"Date."},time:{id:"time",defaultMessage:"Time",description:"Time."},sidebar:{id:"sidebar",defaultMessage:"Sidebar",description:"Generic label for a sidebar"},gotoPageX:{id:"gotoPageX",defaultMessage:"Go to Page {arg0}",description:"Go to a page"},name:{id:"name",defaultMessage:"Name",description:"Name field usually."},chooseColor:{id:"chooseColor",defaultMessage:"Choose Color",description:"Choose color from the UI."},textHighlighter:{id:"textHighlighter",defaultMessage:"Text highlighter",description:"Highlighter tool used to highlight selected text."},undo:{id:"undo",defaultMessage:"Undo",description:"Undo last action."},redo:{id:"redo",defaultMessage:"Redo",description:"Redo last undone action."},showMore:{id:"showMore",defaultMessage:"Show More",description:"Show more"},showLess:{id:"showLess",defaultMessage:"Show Less",description:"Show Less"},nMoreComments:{id:"nMoreComments",defaultMessage:"{arg0, plural,\\none {{arg0} more comment}\\nother {{arg0} more comments}\\n}",description:"n more comments"},documentEditor:{id:"documentEditor",defaultMessage:"Document Editor",description:"Document Editor toolbar label"},areaRedaction:{id:"areaRedaction",defaultMessage:"Area Redaction",description:"Area Redaction toolbar item label"},textRedaction:{id:"textRedaction",defaultMessage:"Text Redaction",description:"Text Redaction toolbar item label"},outlineColor:{id:"outlineColor",defaultMessage:"Outline Color",description:"Outline color"},overlayText:{id:"overlayText",defaultMessage:"Overlay text",description:"Overlay text"},insertOverlayText:{id:"overlayTextPlaceholder",defaultMessage:"Insert overlay text",description:"Overlay Text property placeholder"},repeatText:{id:"repeatText",defaultMessage:"Repeat text",description:"Repeat text placeholder"},preview:{id:"preview",defaultMessage:"Preview",description:"Preview"},markupToolbar:{id:"markupAnnotationToolbar",defaultMessage:"Markup annotation toolbar",description:"Label for the markup annotation toolbar popover"},documentViewport:{id:"documentViewport",defaultMessage:"document viewport",description:"Label for document viewport region"},top:{id:"top",defaultMessage:"Top",description:"Top"},bottom:{id:"bottom",defaultMessage:"Bottom",description:"Bottom"},resize:{id:"resize",defaultMessage:"Resize",description:"Resize action when an annotation is selected."},resizeHandleTop:{id:"resizeHandleTop",defaultMessage:"top",description:"One of the top resize handlers."},resizeHandleBottom:{id:"resizeHandleBottom",defaultMessage:"bottom",description:"One of the bottom resize handlers."},resizeHandleLeft:{id:"resizeHandleLeft",defaultMessage:"left",description:"One of the left resize handlers."},resizeHandleRight:{id:"resizeHandleRight",defaultMessage:"right",description:"One of the right resize handlers."},cropAll:{id:"cropAll",defaultMessage:"Crop All",description:"Crop all pages."},cropAllPages:{id:"cropAllPages",defaultMessage:"Crop All Pages",description:"Crop all pages."},cropCurrent:{id:"cropCurrent",defaultMessage:"Crop Current",description:"Crop current page."},cropCurrentPage:{id:"cropCurrentPage",defaultMessage:"Crop Current Page",description:"Crop current page."},documentCrop:{id:"documentCrop",defaultMessage:"Document Crop",description:"Crop document pages."},documentComparison:{id:"documentComparison",defaultMessage:"Document Comparison",description:"Compare two documents."},rotateCounterclockwise:{id:"rotateCounterclockwise",defaultMessage:"Rotate counterclockwise",description:"Label for the rotate counterclockwise button"},rotateClockwise:{id:"rotateClockwise",defaultMessage:"Rotate clockwise",description:"Label for the rotate clockwise button"},applyRedactions:{id:"applyRedactions",defaultMessage:"Apply Redactions",description:"Applies redactions to document"},cloudyRectangleAnnotation:{id:"cloudyRectangleAnnotation",defaultMessage:"Cloudy Rectangle",description:"Cloudy Rectangle"},dashedRectangleAnnotation:{id:"dashedRectangleAnnotation",defaultMessage:"Dashed Rectangle",description:"Dashed Rectangle"},cloudyEllipseAnnotation:{id:"cloudyEllipseAnnotation",defaultMessage:"Cloudy Ellipse",description:"Cloudy Ellipse"},dashedEllipseAnnotation:{id:"dashedEllipseAnnotation",defaultMessage:"Dashed Ellipse",description:"Dashed Ellipse"},cloudyPolygonAnnotation:{id:"cloudyPolygonAnnotation",defaultMessage:"Cloudy Polygon",description:"Cloudy Polygon"},dashedPolygonAnnotation:{id:"dashedPolygonAnnotation",defaultMessage:"Dashed Polygon",description:"Dashed Polygon"},cloudAnnotation:{id:"cloudAnnotation",defaultMessage:"Cloud",description:"Cloud Annotation"},addSignature:{id:"addSignature",defaultMessage:"Add Signature",description:"Add Signature"},storeSignature:{id:"storeSignature",defaultMessage:"Store Signature",description:"Store the signature that is in creation"},clearSignature:{id:"clearSignature",defaultMessage:"Clear Signature",description:"Clear the signature canvas"},button:{id:"button",defaultMessage:"Button Field",description:"Button Field"},textField:{id:"textField",defaultMessage:"Text Field",description:"Text Field"},radioField:{id:"radioField",defaultMessage:"Radio Field",description:"Radio Field"},checkboxField:{id:"checkboxField",defaultMessage:"Checkbox Field",description:"Checkbox Field"},comboBoxField:{id:"comboBoxField",defaultMessage:"Combo Box Field",description:"Combo Box Field"},listBoxField:{id:"listBoxField",defaultMessage:"List Box Field",description:"List Box Field"},signatureField:{id:"signatureField",defaultMessage:"Signature Field",description:"Signature Field"},formCreator:{id:"formCreator",defaultMessage:"Form Creator",description:"Create, edit or Delete widget annotations."},none:{id:"none",defaultMessage:"None",description:"Normal line"}},Ya=Object.values({square:"square",circle:"circle",diamond:"diamond",openArrow:"openArrow",closedArrow:"closedArrow",butt:"butt",reverseOpenArrow:"reverseOpenArrow",reverseClosedArrow:"reverseClosedArrow",slash:"slash"}),Za={MIN_TEXT_ANNOTATION_SIZE:5,MIN_INK_ANNOTATION_SIZE:16,MIN_SHAPE_ANNOTATION_SIZE:16,MIN_IMAGE_ANNOTATION_SIZE:5,MIN_STAMP_ANNOTATION_SIZE:15,MIN_WIDGET_ANNOTATION_SIZE:3,ENABLE_INK_SMOOTH_LINES:!0,INK_EPSILON_RANGE_OPTIMIZATION:10,SIGNATURE_SAVE_MODE:"USING_UI",INITIAL_DESKTOP_SIDEBAR_WIDTH:300,IGNORE_DOCUMENT_PERMISSIONS:!1,SELECTION_OUTLINE_PADDING:function(t){return t.width>Qa?10:13},RESIZE_ANCHOR_RADIUS:function(t){return t.width>Qa?7:10},SELECTION_STROKE_WIDTH:2,TEXT_ANNOTATION_AUTOFIT_TEXT_ON_EXPORT:!0,TEXT_ANNOTATION_AUTOFIT_BOUNDING_BOX_ON_EDIT:!0,DISABLE_KEYBOARD_SHORTCUTS:!1,DEFAULT_INK_ERASER_CURSOR_WIDTH:12.5,COLOR_PRESETS:Vn.filter((t=>t.color!==$n.DARK_BLUE)),LINE_CAP_PRESETS:["none"].concat(Ya),LINE_WIDTH_PRESETS:null,HIGHLIGHT_COLOR_PRESETS:[$n.LIGHT_YELLOW,$n.LIGHT_BLUE,$n.LIGHT_GREEN,$n.LIGHT_RED].map((t=>({color:t,localization:Xa[t.toCSSValue()]}))),TEXT_MARKUP_COLOR_PRESETS:Vn.filter((t=>[$n.BLACK,$n.BLUE,$n.RED,$n.GREEN].includes(t.color))),NOTE_COLOR_PRESETS:ai,PDF_JAVASCRIPT:!0,BREAKPOINT_MD_TOOLBAR:1040,BREAKPOINT_SM_TOOLBAR:768},Qa=(Object.preventExtensions({...Za}),480),ts=(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}("Options"),"/create.pdf"),es="/save.pdf",rs="/embedded.pdf",ns="WebAssembly/asm.js module not loaded.";let is=null,os=!1,as=!1,ss=null,us=[],cs=null,ls=null;function fs(t){return null!=t&&null!=t.length&&0===t.length}const hs=["configurePDFJavaScriptSupport","closeDocument","setFormValues","openDocument","saveDocument","importXFDF","importInstantDocumentJSON"];function ps(t){o(is,"WebAssembly/asm.js module not loaded.");for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];const i=r.map((t=>fs(t)?JSON.stringify(t):t));hs.includes(t)&&Ss();const a=is[t](...i)||\'{ "success": true }\',s=JSON.parse(a);if(!s.success)throw new Error(s.error);return s}function ds(t){o(is,"WebAssembly/asm.js module not loaded.");for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];hs.includes(t)&&Ss();const i=r.map((t=>fs(t)?JSON.stringify(t):t)),a=is[t](...i);return a}const ms=["run_pdf_formatting_scripts","run_pdf_javascript","set_form_values_get_script_changes","edit_document","prepare_sign_invisible","sign","on_keystroke_event","save_document"];function gs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(is,"WebAssembly/asm.js module not loaded.");const r=JSON.stringify({type:t,...e});ms.includes(t)&&Ss();const n=is.dispatchCommand(r);if(n.hasError()){const e=new Error(n.getErrorMessage()||"There was an error while executing the command: "+t);throw n.delete(),e}const i=[];for(let t=0;t<n.getRepliesCount();t++)n.hasJSONReply(t)&&i.push(JSON.parse(n.getJSONReply(t))),n.hasBinaryReply(t)&&i.push(n.getBinaryReply(t).slice(0));return n.delete(),i}function ys(t,e){return`${t}/${e}.pdf`}async function vs(t,e){const r=Math.random().toString(36).slice(-5),n=await Promise.all(Object.entries(e).map((async e=>{let[n,i]=e;return t.forEach((t=>{t.document===n&&"importDocument"===t.type?(!1===t.treatImportedDocumentAsOnePage&&(t.treatImportedDocumentAsOnePage=void 0),t.document=ys(r,n)):(t.dataFilePath===n&&"applyInstantJson"===t.type||t.dataFilePath===n&&"applyXfdf"===t.type)&&(t.dataFilePath=ys(r,n))})),{basename:n,buffer:await x(i)}})));return n.forEach((t=>{!function(t,e,r){o(is,ns),is.FS.analyzePath(t).exists||is.FS.mkdir(t),is.FS.writeFile(ys(t,e),r)}(r,t.basename,t.buffer)})),function(){n.forEach((t=>{!function(t,e){o(is,ns),is.FS.unlink(ys(t,e))}(r,t.basename)}))}}function _s(){as=!0;const t=ps("configurePDFJavaScriptSupport",!0);return o(t.success,"An error occurred while executing the document level JavaScript."),t.changes||[]}function bs(t,e){let r;try{r=gs("edit_document",{save_path:e,operations:t})}catch(t){throw new Error(`Error applying operations to document: ${t.message}`)}return r}let ws=null,Es=!1;function Ss(){Es||(ws=null)}function As(t){Es&&!t&&(Es=!1,ws&&Os(ws)),Es=t}function Ds(){return null===ws&&(ws=gs("read_form_json_objects")),ws}function Os(t){let e;if(!Es){try{Ss(),e=gs("apply_form_json_objects",{form_fields_with_widgets:t})}catch(t){throw new Error("Error applying form JSON objects to /create.pdf: "+t.message)}return e}if(null===t)throw Es=!1,new Error("Error enqueuing form JSON objects: form fields JSON is null.");ws=t}function Is(t,e,r,n,i){let a,u;o("number"==typeof t.pageIndex,"Annotation must have a pageIndex");try{if(o("number"==typeof t.pdfObjectId,"Cannot call renderAnnotation() for an annotation without pdfObjectId."),u=ds("renderAnnotation",i,t.pdfObjectId,t.pageIndex,0,r,n),u.hasError()||1!==u.getRepliesCount()){const t=u.getErrorMessage(),e=u.getErrorReason();throw new Error(e+": "+t)}a=u.getBinaryReply(0).slice(0)}catch(t){s(t.message)}finally{u&&u.delete()}return a}function Ts(t,e){let{width:r,height:n}=e;return"webp"===t&&(r>16383||n>16383)?"png":t}const Fs=new class{_pdfObjectIdsForIds={};loadNativeModule(t,e){let{mainThreadOrigin:r,disableWebAssembly:n,disableWebAssemblyStreaming:i,enableAutomaticLinkExtraction:o,overrideMemoryLimit:s}=e;return ls=Date.now(),os=o,ss=s,function(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:self;return new Promise((async o=>{const s=!r&&M(i),u=C(t,n,s),c=s?await P(`${t}${O}`):await P(`${t}${T}`);a(`Using ${s?"WASM":"ASM.js"} method`),R(i,e);const l=await c(u);if(o({nativeModule:l}),void 0===i.crypto){const{FS:t}=l,e=function(){return 256*Math.random()|0};t.unlink("/dev/random"),t.unlink("/dev/urandom"),t.createDevice("/dev","random",e),t.createDevice("/dev","urandom",e)}}))}(t,r,n,i).then((t=>{let{nativeModule:e}=t;is=e;const r=ps("PSPDFKitVersion").version;if(1!==r)throw new Error(`Native version mismatch. Please update the dependencies. Expected 1 but got ${r}.`)}))}async load(t,e,r){let n,{mainThreadOrigin:i,customFonts:s}=r;o(is,ns);try{const t=s?"/fonts":"";s&&!is.FS.analyzePath(t).exists&&function(t,e){o(is,ns),is.FS.mkdir(e),is.FS.mount(is.FS.filesystems.WORKERFS,{blobs:t},e)}(s,t),n=is.initPSPDFKit(null==e?"":e,i,t,"")}catch(t){if(void 0===t.message&&d)return;throw t}const u=JSON.parse(n);if(ls&&a(`Native initialization complete, took: ${Date.now()-ls}ms`),!u.success)throw new Error("Failed to initialize PSPDFKit: "+u.error);return u}async openDocument(t,e){try{return o(is,ns),null!==ss&&ps("overrideMemoryLimit",ss),cs=e,is.FS.writeFile(ts,new Uint8Array(t)),this.openAndReturnDocumentInfo()}finally{this._pdfObjectIdsForIds={}}}async reloadDocument(){try{return ps("closeDocument"),this.openAndReturnDocumentInfo()}finally{this._pdfObjectIdsForIds={}}}async openAndReturnDocumentInfo(){ps("openDocument",ts,JSON.stringify({password:cs})),as&&_s(),ps("automaticLinkExtraction",os);const t=ps("getDocumentInfo").documentInfo,e=[];for(let r=0;r<t.pageCount;r++)try{const t=ps("getPageInfo",r).pageInfo;e.push(t)}catch(t){u(`Dimensional information for page ${r} unavailable, page will not be displayed.`);const n={height:0,matrix:[0,0,0,0,0,0],pageLabel:"",reverseMatrix:[0,0,0,0,0,0],transformedBBox:[0,0,0,0],untransformedBBox:[0,0,0,0],width:0,pageIndex:r,rawPdfBoxes:{bleedBox:null,cropBox:null,mediaBox:null,trimBox:null}};e.push(n)}return t.pages=e,t}async enablePDFJavaScriptSupport(){return _s()}async runPDFFormattingScripts(){let t;o(as,"PDF Formatting Scripts can only run after JavaScript is enabled.");try{t=gs("run_pdf_formatting_scripts")}catch(t){throw new Error("An error occurred while executing the document level JavaScript formatting.\\n\\n"+t.message)}return t[0].changes||[]}async openDocumentAt(){throw new Error("Should never be called")}async getBookmarks(){const t=gs("get_bookmarks");return o(1===t.length,"expected only one response for getBookmarks"),t[0].bookmarks||[]}async getFormJSON(){return ps("getFormJSON").formJSON}async getFormValues(){return ps("getFormValues").formValues}async setFormValues(t){ps("setFormValues",JSON.stringify(t))}async setFormFieldValue(t){await this.setFormValues([t])}async applyOperations(t,e){const r=await vs(t,e),n=bs(t,ts);return r(),n}async exportPDFWithOperations(t,e){const r=await vs(t,e);let n;o(is,ns);try{bs(t,es),n=is.FS.readFile(es).buffer}catch(t){throw new Error("Error applying operations: "+t.message)}return r(),n}async getSignaturesInfo(){try{return gs("get_signatures",{certificate_check_time:"current_time"})[0]}catch(t){throw new Error(`Error getting signatures info: ${t.message}`)}}async prepareSignInvisible(t,e){let r;try{r=gs("get_signatures",{certificate_check_time:"current_time"})[0];const t="not_signed"!==r.status;ps("saveDocument",es,!1,t,false,false,"pdf"),ps("openDocument",es,JSON.stringify({password:cs}))}catch(t){throw new Error(`Error saving document backup for invisible signing: ${t}`)}try{const t=!e&&"not_signed"!==r.status;ps("saveDocument",ts,e,t,false,false,"pdf"),e&&(ps("openDocument",ts,JSON.stringify({password:cs})),as&&_s())}catch(t){throw new Error(`Error saving document for invisible signing: ${t}`)}let n;try{n=gs("prepare_sign_invisible",{signer_data_source:{...t,type:"pspdfkit/signer-data-source"},signature_metadata:{type:"pspdfkit/signature-metadata"}})}catch(t){throw new Error(`Error preparing document for invisible signing: ${t}`)}o(is,ns);const i=is.FS.readFile(n[0].result.file_contents).buffer;return is.FS.unlink(n[0].result.file_contents),{file:n[0].result.file,hash:n[0].result.hash,signatureFormFieldName:n[0].result.signature_form_fqn,dataToBeSigned:n[0].result.data_to_be_signed,fileContents:i}}async sign(t,e,r){let n;try{n=gs("sign",{password:cs,save_path:ts,file_path:t,signature_form_fqn:e,pkcs7_container:r}),ps("openDocument",ts,JSON.stringify({password:cs})),as&&_s()}catch(t){throw new Error(`Error signing document: ${t}`)}return n[0].result}async restoreToOriginalState(){try{ps("openDocument",es,JSON.stringify({password:cs})),as&&_s();const t="not_signed"!==gs("get_signatures",{certificate_check_time:"current_time"})[0].status;ps("saveDocument",ts,!1,t,!1,!1,"pdf"),ps("openDocument",ts,JSON.stringify({password:cs})),as&&_s()}catch(t){throw new Error(`Could not restore backup document: ${t}`)}}async evalFormValuesActions(t){const e=gs("set_form_values_get_script_changes",{form_values:t});return o(1===e.length,"expected only one response for evalFormValuesActions"),e[0].changes}async readFormJSONObjects(){return Ds()}async setFormJSONUpdateBatchMode(t){await As(t)}async evalScript(t,e){const r=gs("run_pdf_javascript",{pdf_javascript_contents:t,pdf_javascript_form_fqn:e});return o(1===r.length,"expected only one response for evalScript"),r[0].changes}async closeDocument(){try{return us=[],cs=null,as=!1,ps("closeDocument")}finally{this._pdfObjectIdsForIds={}}}async renderTile(t,e,r,n,i,a,s){o(is,ns);const u=gs("render_tile",{render_annotations:Boolean(i||a),print_rendering:n,page:t,bitmap_width:r.width,bitmap_height:r.height,bitmap_x:r.left,bitmap_y:r.top,page_width:e.width,page_height:e.height,format:Ts(s,{width:r.width,height:r.height})});if("bitmap"===s)return u[0];const c=new Blob([u[0]],{type:`image/${s}`});return URL.createObjectURL(c)}async renderAnnotation(t,e,r,n,i){return Is({...t,pdfObjectId:this._getPdfObjectIdForObject(t)},e&&await x(e),r,n,i)}async renderPageAnnotations(t,e,r,n,i,o){return i.length>0&&await this.setFormValues(i),e.map(((e,i)=>Is({pdfObjectId:e,pageIndex:t},0,r[i],n[i],Ts(o,{width:r[i],height:n[i]}))))}async renderDetachedAnnotation(t,e,r,n,i){o(is,ns);const a=e?await x(e):null,s=e?e.type:null;let u,c;const l=new is.VectorUint8;try{if(null!=a)for(let t=0;t<a.byteLength;t++)l.push_back(a[t]);if(c=ds("renderDetachedAnnotation",i,JSON.stringify({...t,pdfObjectId:this._getPdfObjectIdForObject(t),pageIndex:0}),0,r,n,l,s||""),c.hasError()||1!==c.getRepliesCount()){const t=c.getErrorMessage(),e=c.getErrorReason();throw new Error(e+": "+t)}u=c.getBinaryReply(0).slice(0)}finally{l&&l.delete(),c&&c.delete()}return u}async loadCertificates(t){if(gs("load_certificates",{certificates:t}).length>0)throw new i("Internal error while loading certificates")}async getAttachment(t){let e,r,n;const i=await this.getEmbeddedFilesList(),o=null==i?void 0:i.map((t=>t.id)),a=null==o?void 0:o.includes(t);try{if(a)gs("extract_embedded_file",{id:t,file_path:rs}),e=is.FS.readFile(rs).buffer;else{if(r=ds("getAnnotationAttachment",t),r.hasError()||1!==r.getRepliesCount()){const t=r.getErrorMessage(),e=r.getErrorReason();throw new Error("Error fetching attachment: "+e+", "+t)}n=JSON.parse(r.getJSONReply(0)).encoding,e=r.getBinaryReply(0).slice(0)}}finally{var s;null!==(s=is.FS.analyzePath(rs))&&void 0!==s&&s.exists&&is.FS.unlink(rs),r&&r.delete()}return[e,n]}async textForPageIndex(t){return ps("textForPageIndex",t).textBlocks}async annotationsForPageIndex(t){return ps("annotationsForPageIndex",t).annotations}async createAnnotation(t,e){o(is,ns),o("number"==typeof t.pageIndex,"Annotation must have a pageIndex");const r=t.pdfObjectId,n=e?await x(e):null;let i;const a=new is.VectorUint8;try{if(null!=n)for(let t=0;t<n.byteLength;t++)a.push_back(n[t]);"pspdfkit/widget"===t.type&&(As(!1),Ss()),i=ps("createAnnotation",JSON.stringify({...t,pdfObjectId:null}),a)}finally{a&&a.delete()}return"number"==typeof r&&"number"==typeof this._pdfObjectIdsForIds[r.toString()]&&delete this._pdfObjectIdsForIds[r.toString()],this._pdfObjectIdsForIds[t.id||i.pdfObjectId.toString()]=i.pdfObjectId,i.pdfObjectId}async updateAnnotation(t){const e={...t,pdfObjectId:this._getPdfObjectIdForObject(t)};if(o(e.id,"Annotation must have an ID"),o("number"==typeof e.pageIndex,"Annotation must have a pageIndex"),"pspdfkit/widget"===e.type){const t=Ds(),r="number"==typeof e.pdfObjectId?e.pdfObjectId.toString():e.id;Os(t.map((t=>t.formField.annotationIds.includes(r)||t.formField.annotationIds.includes(String(e.pdfObjectId))?{...t,widgets:t.widgets.map((t=>t.id===r||String(t.pdfObjectId)===r?e:t))}:t)))}else ps("updateAnnotation",JSON.stringify(e),0,0)}async deleteAnnotation(t){if(t.APStreamCache&&await this.updateAnnotation(t),"pspdfkit/widget"===t.type)try{const e=t.id;Os(Ds().map((r=>{if(r.formField.annotationIds.includes(e)||r.formField.annotationIds.includes(String(t.pdfObjectId))){let t;if(("pspdfkit/form-field/checkbox"===r.formField.type||"pspdfkit/form-field/radio"===r.formField.type)&&r.formField.options.length===r.formField.annotationIds.length){const n=r.formField.annotationIds.indexOf(e);t=r.formField.options.filter(((t,e)=>e!==n))}const n=r.widgets.filter((t=>e!==(t.id||String(t.pdfObjectId)))),i=r.formField.annotationIds.filter((t=>t!==e));return n.length>0&&i.length>0?{...r,formField:{...r.formField,annotationIds:i,...t?{options:t}:null},widgets:n}:null}return r})).filter(Boolean))}catch(t){throw t}else try{gs("remove_annotations",{annotation_ids:[this._getPdfObjectIdForObject(t)]})}catch(e){s(`Removing annotation failed for annotation: ${JSON.stringify(t)}`)}delete this._pdfObjectIdsForIds[t.id||t.pdfObjectId.toString()]}async createFormField(t,e){Os(Ds().concat([{type:"pspdfkit/form-field-with-widgets",formField:t,widgets:e}]));const r=Ds().find((e=>e.formField.name===t.name));if(!r)throw new Error(`Error creating new form field in /create.pdf: created form field not found. ${JSON.stringify({type:"pspdfkit/form-field-with-widgets",formField:t,widgets:e})}`);r.widgets.forEach((t=>{this._pdfObjectIdsForIds[t.id]=t.pdfObjectId}))}async updateFormField(t,e){const r=Ds(),n=r.find((e=>e.formField.name===t.name));if(!n)throw new Error(`Error updating form field with name "${t.name}" in /create.pdf: form field not found. ${JSON.stringify(r)}`);Os(r.map((r=>r.formField.name===t.name?{type:"pspdfkit/form-field-with-widgets",formField:{...r.formField,...t},widgets:e.reduce(((t,e)=>[...t,{...r.widgets.find((t=>t.id===e.id||t.pdfObjectId===e.pdfObjectId)),...e}]),[]),...void 0!==r.value?{value:r.value}:null}:r)));if(!Ds().find((e=>e.formField.name===t.name)))throw new Error(`Error updating form field "${t.name}" in /create.pdf: updated form field not found. ${JSON.stringify({type:"pspdfkit/form-field-with-widgets",formField:t,widgets:e})}`);n.widgets.forEach((t=>{e.some((e=>e.id===t.id))||delete this._pdfObjectIdsForIds[t.id]}))}async deleteFormField(t){const e=Ds(),r=e.find((e=>e.formField.name===t.name));if(!r)return;Os(e.filter((e=>e.formField.name!==t.name)));const n=Ds().find((e=>e.formField.name===t.name));if(n)throw new Error(`Error deleting form field with name "${t.name}" in /create.pdf: form field still present. ${JSON.stringify(n)}`);r.widgets.forEach((t=>{delete this._pdfObjectIdsForIds[t.id]}))}async deleteFormFieldValue(t){Os(Ds().map((e=>e.formField.name===t?{formField:e.formField,widgets:e.widgets,type:e.type}:e)))}async createBookmark(t){try{gs("append_bookmarks",{bookmarks:[t]})}catch(t){throw new Error(`Error creating new bookmark in /create.pdf: ${t.message}`)}}async updateBookmark(t){try{var e;gs("remove_bookmarks",{bookmarkIds:[null!==(e=t.id)&&void 0!==e?e:t.pdfBookmarkId]}),gs("append_bookmarks",{bookmarks:[t]})}catch(t){throw new Error(`Error updating bookmark in /create.pdf: ${t.message}`)}}async deleteBookmark(t){try{gs("remove_bookmarks",{bookmarkIds:[t]})}catch(t){throw new Error(`Error deleting bookmark in /create.pdf: ${t.message}`)}}async getTextFromRects(t,e){return ps("getTextFromRects",t,JSON.stringify(e.map((t=>[t.left,t.top,t.width,t.height])))).text}async search(t,e,r,n){return gs("search",{query:t,start_index:e,limit:r,case_sensitive:n,search_type:arguments.length>4&&void 0!==arguments[4]?arguments[4]:N})}async parseXFDF(t){const e=new is.VectorUint8;try{const r=new Uint8Array(function(t){const e=new ArrayBuffer(2*t.length),r=new Uint16Array(e);for(let e=0,n=t.length;e<n;e++)r[e]=t.charCodeAt(e);return e}(t));for(let t=0;t<r.byteLength;t++)e.push_back(r[t]);const n=await is.dispatchCommandWithBinary(JSON.stringify({type:"convert_xfdf_to_instant_json"}),e);if(n.hasError()){const t=new Error(n.getErrorMessage()||"There was an error while executing the command: convert_xfdf_to_instant_json");throw n.delete(),t}const i=[];for(let t=0;t<n.getRepliesCount();t++)n.hasBinaryReply(t)&&i.push(n.getBinaryReply(t).slice(0));const o=function(t){let e="";const r=new Uint8Array(t),n=r.byteLength;for(let t=0;t<n;t++)e+=String.fromCharCode(r[t]);return e}(i[0].buffer);return n.delete(),JSON.parse(o)}catch(t){throw t}}async getEmbeddedFilesList(){return gs("list_embedded_files")[0].embeddedFiles||null}async exportFile(t,e,r,n,i){let a={mimeType:"application/pdf",extension:"pdf"};try{const o=gs("save_document",{file_path:es,format:n,flatten_annotations:t,save_incrementally:e,apply_redactions:!1,save_for_printing:r,remove_all_annotations:i})[0];o.format&&(a={mimeType:o.format.mime_type,extension:o.format.extension})}catch(t){throw new Error(`Error saving to /save.pdf: ${t.message}`)}o(is,ns);return[is.FS.readFile(es).buffer,a]}async importXFDF(t,e){us.push({source:t,keepCurrentAnnotations:e}),e||function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push("pspdfkit/widget"),ps("removeAllAnnotations",JSON.stringify(t),JSON.stringify(e))}(),ps("importXFDF",t)}async exportXFDF(){return ps("exportXFDF",[],[]).XFDF}async importInstantJSON(t){ps("importInstantDocumentJSON",JSON.stringify(t))}async exportInstantJSON(){const t=ps("exportInstantDocumentJSON");return JSON.parse(t.InstantDocumentJSON)}async getDocumentOutline(){const t=gs("get_outline");return o(1===t.length,"expected only one response for getDocumentOutline"),t[0].outline||[]}async onKeystrokeEvent(t){const e=gs("on_keystroke_event",{pdf_javascript_event:t});o(1===e.length,"expected only one response for onKeystrokeEvent");const r=e[0].changes||[];return o(r.length>0&&4===r[0].change_type,"expected onKeystrokeEvent to return at least one JavaScript Event change."),r}async version(){return ps("PSPDFKitVersion").version}getImportedXFDF(){return us}async applyRedactions(){try{return ps("saveDocument",ts,!1,!1,!0,!1,"pdf")||{}}catch(t){throw new Error(`Error applying redactions and saving to /create.pdf: ${t.message}`)}}async clearAPStreamCache(){ps("clearAPStreamCache")}comparisonDocuments={};lastOpenedComparisonDocument=null;async setComparisonDocument(t,e){this.comparisonDocuments[t]=e||(await this.exportFile(!1,!1,!1,"pdf",!1))[0]}async openComparisonDocument(t){return o(this.comparisonDocuments[t]),t===this.lastOpenedComparisonDocument||t===L&&null===this.lastOpenedComparisonDocument&&this.persistedOpenDocument instanceof ArrayBuffer?null:(this.lastOpenedComparisonDocument=t,this.openDocument(this.comparisonDocuments[t],this.persistedOpenDocument===t?this.persistedOpenDocumentPassword:void 0))}async documentCompareAndOpen(t){o(this.comparisonDocuments[L]&&this.comparisonDocuments[k],"One or both comparison input documents are missing.");const e=`${L}.pdf`,r=`${k}.pdf`;is.FS.writeFile(e,new Uint8Array(this.comparisonDocuments[L])),is.FS.writeFile(r,new Uint8Array(this.comparisonDocuments[k]));return gs("comparison",{documentA:{strokeColor:t.documentA.strokeColor,pageIndex:t.documentA.pageIndex,filePath:e},documentB:{strokeColor:t.documentB.strokeColor,pageIndex:t.documentB.pageIndex,filePath:r},options:{...t.options,outputFilePath:"output.pdf"}}),await this.closeDocument(),this.comparisonDocuments[j]=is.FS.readFile("output.pdf").buffer,this.lastOpenedComparisonDocument=j,this.openDocument(this.comparisonDocuments[j],void 0)}persistedOpenDocument=null;async persistOpenDocument(t){if(t)this.persistedOpenDocument=t;else try{this.persistedOpenDocument=(await this.exportFile(!1,!1,!1,"pdf",!1))[0]}catch(t){throw new Error(`Error trying to persist a copy of the currently opened document: ${t.message}`)}this.persistedOpenDocumentPassword=cs}async cleanupDocumentComparison(){o(this.persistedOpenDocument,"No persisted previous document key or array buffer is available.");const t=this.persistedOpenDocument instanceof ArrayBuffer?this.persistedOpenDocument:this.comparisonDocuments[this.persistedOpenDocument];o(t,"No persisted previous array buffer is available.");try{await this.closeDocument()}catch(t){throw new Error(`Error trying to close the current document: ${t.message}`)}const e=this.openDocument(t,this.persistedOpenDocumentPassword);return this.persistedOpenDocument=null,this.persistedOpenDocumentPassword=null,this.lastOpenedComparisonDocument=null,this.comparisonDocuments={},e}_getPdfObjectIdForObject(t){return"number"==typeof t.pdfObjectId?t.pdfObjectId:this._pdfObjectIdsForIds[t.id]}},Ms=self;if(Ms.global=Ms,Ms.module={},void 0===Ms.performance){const t=Date.now();Ms.performance={now:()=>Date.now()-t}}Ms.onmessage=async t=>{let e,{data:r}=t,n=null;try{const t=await Fs[r.action](...r.args);if(e={id:r.id,result:t},Array.isArray(t)){const e=t.filter((t=>t instanceof ArrayBuffer));e.length>0&&(n=e)}t instanceof ArrayBuffer&&(n=[t])}catch(t){const i=r.args.filter((t=>t instanceof ArrayBuffer));i.length>0&&(n=i),e={id:r.id,error:t.message||t.toString(),callArgs:r.args}}Ms.postMessage(e,n||void 0)}},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},9670:(t,e,r)=>{var n=r(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},1318:(t,e,r)=>{var n=r(5656),i=r(7466),o=r(1400),a=function(t){return function(e,r,a){var s,u=n(e),c=i(u.length),l=o(a,c);if(t&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},244:(t,e,r)=>{var n=r(3099);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:(t,e,r)=>{var n=r(6656),i=r(3887),o=r(1236),a=r(3070);t.exports=function(t,e){for(var r=i(e),s=a.f,u=o.f,c=0;c<r.length;c++){var l=r[c];n(t,l)||s(t,l,u(e,l))}}},8880:(t,e,r)=>{var n=r(9781),i=r(3070),o=r(9114);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},317:(t,e,r)=>{var n=r(7854),i=r(111),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,r)=>{var n=r(7854),i=r(1236).f,o=r(8880),a=r(1320),s=r(3505),u=r(9920),c=r(4705);t.exports=function(t,e){var r,l,f,h,p,d=t.target,m=t.global,g=t.stat;if(r=m?n:g?n[d]||s(d,{}):(n[d]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(p=i(r,l))&&p.value:r[l],!c(m?l:d+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(r,l,h,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},5005:(t,e,r)=>{var n=r(857),i=r(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},3501:t=>{t.exports={}},490:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),i=r(7293),o=r(317);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(7293),i=r(4326),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},2788:(t,e,r)=>{var n=r(5465),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},9909:(t,e,r)=>{var n,i,o,a=r(8536),s=r(7854),u=r(111),c=r(8880),l=r(6656),f=r(6200),h=r(3501),p=s.WeakMap;if(a){var d=new p,m=d.get,g=d.has,y=d.set;n=function(t,e){return y.call(d,t,e),e},i=function(t){return m.call(d,t)||{}},o=function(t){return g.call(d,t)}}else{var v=f("state");h[v]=!0,n=function(t,e){return c(t,v,e),e},i=function(t){return l(t,v)?t[v]:{}},o=function(t){return l(t,v)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},4705:(t,e,r)=>{var n=r(7293),i=/#|\\.prototype\\./,o=function(t,e){var r=s[a(t)];return r==c||r!=u&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},9747:(t,e,r)=>{var n=r(227);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},8536:(t,e,r)=>{var n=r(7854),i=r(2788),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},3070:(t,e,r)=>{var n=r(9781),i=r(4664),o=r(9670),a=r(7593),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e,!0),o(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),i=r(5296),o=r(9114),a=r(5656),s=r(7593),u=r(6656),c=r(4664),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},8006:(t,e,r)=>{var n=r(6324),i=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},6324:(t,e,r)=>{var n=r(6656),i=r(5656),o=r(1318).indexOf,a=r(3501);t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~o(c,r)||c.push(r));return c}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},3887:(t,e,r)=>{var n=r(5005),i=r(8006),o=r(5181),a=r(9670);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},857:(t,e,r)=>{var n=r(7854);t.exports=n},1320:(t,e,r)=>{var n=r(7854),i=r(8880),o=r(6656),a=r(3505),s=r(2788),u=r(9909),c=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,r,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||i(r,"name",e),l(r).source=f.join("string"==typeof e?e:"")),t!==n?(u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=r:i(t,e,r)):c?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on "+t);return t}},3505:(t,e,r)=>{var n=r(7854),i=r(8880);t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},6200:(t,e,r)=>{var n=r(2309),i=r(9711),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,r)=>{var n=r(7854),i=r(3505),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},2309:(t,e,r)=>{var n=r(1913),i=r(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.5.0",mode:n?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},261:(t,e,r)=>{var n,i,o,a=r(7854),s=r(7293),u=r(4326),c=r(244),l=r(490),f=r(317),h=r(9747),p=a.location,d=a.setImmediate,m=a.clearImmediate,g=a.process,y=a.MessageChannel,v=a.Dispatch,_=0,b={},w="onreadystatechange",E=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},S=function(t){return function(){E(t)}},A=function(t){E(t.data)},D=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};d&&m||(d=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return b[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(_),_},m=function(t){delete b[t]},"process"==u(g)?n=function(t){g.nextTick(S(t))}:v&&v.now?n=function(t){v.now(S(t))}:y&&!h?(o=(i=new y).port2,i.port1.onmessage=A,n=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(D)?n=w in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),E(t)}}:function(t){setTimeout(S(t),0)}:(n=D,a.addEventListener("message",A,!1))),t.exports={set:d,clear:m}},1400:(t,e,r)=>{var n=r(9958),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},5656:(t,e,r)=>{var n=r(8361),i=r(4488);t.exports=function(t){return n(i(t))}},9958:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},7466:(t,e,r)=>{var n=r(9958),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7593:(t,e,r)=>{var n=r(111);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},9711:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},227:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},4633:(t,e,r)=>{var n=r(2109),i=r(7854),o=r(261);n({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:o.set,clearImmediate:o.clear})},8679:(t,e,r)=>{"use strict";var n=r(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return n.isMemo(t)?a:s[t.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,r,n){if("string"!=typeof r){if(d){var i=p(r);i&&i!==d&&t(e,i,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=u(e),m=u(r),g=0;g<a.length;++g){var y=a[g];if(!(o[y]||n&&n[y]||m&&m[y]||s&&s[y])){var v=h(r,y);try{c(e,y,v)}catch(t){}}}}return e}},4301:(t,e,r)=>{r(7147),t.exports=self.fetch.bind(self)},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,u=i(t),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(e){s=e(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},9921:(t,e)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,d=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case l:case f:case o:case s:case a:case p:return t;default:switch(t=t&&t.$$typeof){case c:case h:case g:case m:case u:return t;default:return e}}case i:return e}}}function E(t){return w(t)===f}e.AsyncMode=l,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=u,e.Element=n,e.ForwardRef=h,e.Fragment=o,e.Lazy=g,e.Memo=m,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return E(t)||w(t)===l},e.isConcurrentMode=E,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return w(t)===h},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===f||t===s||t===a||t===p||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===u||t.$$typeof===c||t.$$typeof===h||t.$$typeof===v||t.$$typeof===_||t.$$typeof===b||t.$$typeof===y)},e.typeOf=w},9864:(t,e,r)=>{"use strict";t.exports=r(9921)},2408:(t,e,r)=>{"use strict";var n=r(7418),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||v}function w(){}function E(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||v}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var S=E.prototype=new w;S.constructor=E,n(S,b.prototype),S.isPureReactComponent=!0;var A={current:null},D=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,r){var n,i={},a=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)D.call(e,n)&&!O.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in u=t.defaultProps)void 0===i[n]&&(i[n]=u[n]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:A.current}}function T(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var F=/\\/+/g,M=[];function C(t,e,r,n){if(M.length){var i=M.pop();return i.result=t,i.keyPrefix=e,i.func=r,i.context=n,i.count=0,i}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function R(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function P(t,e,r,n){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case a:s=!0}}if(s)return r(n,t,""===e?"."+N(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=e+N(i=t[u],u);s+=P(i,c,r,n)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(i=t.next()).done;)s+=P(i=i.value,c=e+N(i,u++),r,n);else if("object"===i)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}function x(t,e,r){return null==t?0:P(t,"",e,r)}function N(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function k(t,e,r){var n=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?j(t,n,r,(function(t){return t})):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(F,"$&/")+"/")+r)),n.push(t))}function j(t,e,r,n,i){var o="";null!=r&&(o=(""+r).replace(F,"$&/")+"/"),x(t,k,e=C(e,o,n,i)),R(e)}var B={current:null};function z(){var t=B.current;if(null===t)throw Error(y(321));return t}var U={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,r){if(null==t)return t;var n=[];return j(t,n,null,e,r),n},forEach:function(t,e,r){if(null==t)return t;x(t,L,e=C(null,null,e,r)),R(e)},count:function(t){return x(t,(function(){return null}),null)},toArray:function(t){var e=[];return j(t,e,null,(function(t){return t})),e},only:function(t){if(!T(t))throw Error(y(143));return t}},e.Fragment=s,e.PureComponent=E,e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=I,e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useContext=function(t,e){return z().useContext(t,e)},e.useEffect=function(t,e){return z().useEffect(t,e)},e.useState=function(t){return z().useState(t)}},7294:(t,e,r)=>{"use strict";t.exports=r(2408)},7147:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Headers:()=>d,Request:()=>w,Response:()=>S,DOMException:()=>D,fetch:()=>O});var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,i="URLSearchParams"in n,o="Symbol"in n&&"iterator"in Symbol,a="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in n,u="ArrayBuffer"in n;if(u)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(t){return t&&c.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\\-#$%&\'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError(\'Invalid character in header field name: "\'+t+\'"\');return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function g(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function y(t){var e=new FileReader,r=g(e);return e.readAsArrayBuffer(t),r}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:a&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():u&&a&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(t)||l(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=m(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(y)}),this.text=function(){var t,e,r,n=m(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=g(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=f(t),e=h(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[f(t)]},d.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},d.prototype.set=function(t,e){this.map[f(t)]=h(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),p(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),p(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),p(t)},o&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){if(!(this instanceof w))throw new TypeError(\'Please use the "new" operator, this DOM object constructor cannot be called as a function.\');var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function E(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\\+/g," "),i=r.join("=").replace(/\\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function S(t,e){if(!(this instanceof S))throw new TypeError(\'Please use the "new" operator, this DOM object constructor cannot be called as a function.\');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},_.call(w.prototype),_.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];S.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})};var D=n.DOMException;try{new D}catch(t){(D=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),D.prototype.constructor=D}function O(t,e){return new Promise((function(r,i){var o=new w(t,e);if(o.signal&&o.signal.aborted)return i(new D("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new d,t.replace(/\\r?\\n[\\t ]+/g," ").split("\\r").map((function(t){return 0===t.indexOf("\\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;setTimeout((function(){r(new S(i,n))}),0)},s.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){i(new D("Aborted","AbortError"))}),0)},s.open(o.method,function(t){try{return""===t&&n.location.href?n.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":u&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof d?o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){s.setRequestHeader(t,h(e.headers[t]))})),o.signal&&(o.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",c)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}O.polyfill=!0,n.fetch||(n.fetch=O,n.Headers=d,n.Request=w,n.Response=S)},4643:t=>{t.exports="ef25f6cefdebf28d"},7673:t=>{t.exports="29cd13eb45236e6a"},1117:t=>{t.exports="f254519c3bb00972"},5349:t=>{t.exports="f05018db829c84d6"},2380:t=>{function e(t){var e=new Error("Cannot find module \'"+t+"\'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=2380,t.exports=e}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};r(6199)})();',null)}},69855:t=>{"use strict";var e=window.URL||window.webkitURL;t.exports=function(t,r){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(e.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!r)throw Error("Inline worker is not supported");return new Worker(r)}}}}]);